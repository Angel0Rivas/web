(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(E){var v=window.AmazonUIPageJS||window.P,V=v._namespace||v.attributeErrors,p=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):v;p.guardFatal?p.guardFatal(E)(p,window):p.execute(function(){E(p,window)})})(function(E,v,V){E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(p,b,f,ca,n,N,G){function K(a,x,c,y,l){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var m=
w.getCurrentItem();if(!y||"chromeless-video"!==m.type||!d.autoplayVideo){y=0;"image"===m.type&&(y=Math.max(f.getIndexForVariant(m.color,m.variant,d),0));var k=0;f.isDefined(d.heroImage[m.color])&&(k=d.heroImage[m.color].length);l=y-(x>=d.maxAlts?d.maxAlts-l-k:0);x=0<=l?x+l:y+k;x>=c&&(y=0,x=k);c=f.getImageHash(m.color,y,d);-1!==c&&(r.dispatch("updateModel",{data:{index:y,thumbnailIndex:x,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=a.find(".item").get(x),f.selectGivenThumbnail(b(c),
a))}}}function H(a){if(!d.useChildVideos)return f.lazyLoadingRequired(w.getCurrentItem(),w,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var b=d.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},ca.load(VIDEO_AJAX_ENDPOINT,c));return d.colorToVideo&&d.colorToVideo[a]}}function t(B,
c,y){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&y)return B;var m=H(c),l=f.isDefined(m)&&0<m.length&&d.alwaysIncludeVideo?1:0;c=d.colorImages&&d.colorImages[c];var m=B,k=0;f.isDefined(c)&&(b.each(c,function(c,g){if(k>=d.maxAlts-l&&B<d.maxAlts+d.additionalNumberOfImageAlts){if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){var h=b(".thumbItemUnrolled");h[B]?h[B].querySelector("img").src=g.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(B+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(B+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(B+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:c,thumbnailIndex:B,variant:g.variant,shoppableScene:g.shoppableScene},g.thumb,a,"imageThumbnail");B++}k++}),N.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(b,N,w),K(a,m,B,y,l));return B}function A(a,b){d.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function D(a,c){if("image"===a.type){var y=b("#image-canvas-caption #canvasCaption"),m,l=d.staticStrings,k=d.colorImages,q=a.color,g=a.index;f.isShoppableScenesEnabled()&&a.shoppableScene?m=l.clickSceneTagsToShopProducts:c&&d.useIV?m=
l.clickToExpand:k[q]&&k[q][g].hiRes&&d.useHoverZoom?(m=d.useHoverZoomIpad?l.touchToZoom:d.useClickZoom?l.clickToZoom:l.rollOverToZoom,d.hoverZoomIndicator&&(m="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+m)):d.useIV&&(m=l.clickToExpand);y.html(m)}}function C(a,c){var y="a-dynamic-image";if(!d.acEnabled){var k;b.each(a.main,function(a,h){f.isDefined(k)||(k=parseFloat(h[1]/h[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});y+=k}var l=f.getMaxDimensionsOfMainImage(a.main,
m,d),q=l[0],r=l[1],l=b("\x3cdiv\x3e\x3c/div\x3e"),q={"max-height":q,"max-width":r};l.addClass(y).css(q).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",a.main);return l}function u(a,f,b){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",d);b.children("span").css("display","inline-block");r.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:f.shoppableScene,imageSource:f.hiRes||f.large||f.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(b,d){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:f.shoppableScene})}),d.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return b}function z(a,b,d){d=C(a,d);a=f.isShoppableScenesEnabled()&&a.shoppableScene?u(b,a,d):q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);q.find(".list").append(a);p.loadImageManually(d);return a}function I(a){var b=m.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");d.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}function M(a,
c,y,m){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&!m&&"unavailable"!==a.type){a=d.colorImages&&d.colorImages[y];c=b(".unrolledImg");y=H(y);var l=f.isDefined(y)&&0<y.length&&d.alwaysIncludeVideo?1:0;c.length>d.maxAlts&&c.each(function(a){a>=d.maxAlts&&b(this).remove()});f.isDefined(a)&&b.each(a,function(a,f){a<d.maxAlts-l+d.additionalNumberOfImageAlts&&a>=d.maxAlts-l&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+l+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+l)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+l)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
f.large+'" data-a-hires\x3d"'+f.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}else if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){y=f.getImageHash(a.color,a.index,d);if(-1===y)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(a,w,d)||(r.dispatch("updateModel",c),f.showUnavailable(a.color)),-1;m=q.find(".item.itemNo"+a.thumbnailIndex);f.isjQueryObjDefined(m)||
(m=z(y,a.thumbnailIndex,c));I(m);r.dispatch("loadMagnifier");D(a);A(m,y);p.trigger("dp:image-block:update",y)}}function k(a){var b=w.getCurrentItem().color;d.colorImages[b]||(d.colorImages[b]=a);a={type:"updatedData",data:w.getCurrentItem()};r.dispatch("updateView",a);(b=d.colorToAsin[b])&&b.asin&&E.register(f.rankedImagesReadyEvent(b.asin))}function c(){var a=q.find(".item .imgTagWrapper"),c=f.getContainerHeight(m,d.holderRatio,d.holderMaxHeight);0<c&&(m.height(c),a.height(c));q.find("img.a-dynamic-image").each(function(){var a=
b(this);a.data("a-manual-replacement")&&p.loadDynamicImage(this);var c=a.data("a-dynamic-image"),c=f.getMaxDimensionsOfMainImage(c,m,d);a.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function y(a){D(w.getCurrentItem(),"mouseenter"===a.type)}var P,d,w,r,a,q,m,J;return function(n,x,u,D){P=this;d=n;w=x;r=D;p.on("triggerImageAjax",k);d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];P.render=function(c,y,k,g,h,e,F){q=k;a=g;m=h;J=t(y,c,e);e||(y=w.getCurrentItem(),f.lazyLoadingRequired(y,
w,d)&&r.dispatch("updateModel",{data:{type:"lazy-loaded"}}));y=w.getCurrentItem();k=!e;f.lazyLoadingRequired(y,w,d)||(b("#imageBlock").css("opacity","1"),q.css("opacity","1"),f.spinner(q,!1),q.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),k&&q.find(".list .item").remove());M(w.getCurrentItem(),F,c,e);return J};P.update=function(a){};d.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");r.register("imageHover",y);r.register("resize",
c)}});"use strict";E.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(p,b,f){var v,n,N,G;return function(b,H,t,A){v=this;n=b;N=A;v.render=function(b,t,u,z,A,M,k){G=z;v=this;u=n.maxAlts;z=t;A=n.colorImages[b]?n.colorImages[b].length:0;A+=f.getVideosCount(b,n);b=n.heroImage[b];M=0;b&&(M=b.length);b=A+M;b>u&&(u=b-u,b=G.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),u+="+",z={type:"ingress",index:0,
thumbnailIndex:t,variant:""},b.find("#altIngressText").append(u),p.declarative.create(b,"thumb-action",z),G.append(b),z=t++);return z};v.update=function(b){"ingress"===b.data.type&&"click"===b.type&&N.dispatch("imageClick",b)}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(p,b,f,v){function n(c,k,d,w){if(!f.isjQueryObjDefined(c.find(".a-button-selected"))){var r=z.getCurrentItem();if(!w||"chromeless-video"!==r.type||!u.autoplayVideo){w=
0;if("hero-image"===r.type){w=G(r.color,r.variant);if(-1===w)return;w=-1!==w?w:0}var a=k+w;a>=d&&(w=0,a=k);k=v.getHeroImageHash(u,r.color,w);-1!==k&&(I.dispatch("updateModel",{data:{index:w,thumbnailIndex:a,variant:k.variant,type:"hero-image"}}),k=c.find(".item").get(a),f.selectGivenThumbnail(b(k),c))}}}function N(c,k,d){if("hero-video"===z.getCurrentItem().type)return c;k=u.heroImage&&u.heroImage[k];var w=c;f.isDefined(k)&&(b.each(k,function(b,a){c<u.maxAlts&&(f.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:c,variant:a.variant},a.thumb,M,"imageThumbnail"),c++)}),n(M,w,c,d));return c}function G(c,k){var d=u.heroImage;if(1>d.length||!f.isDefined(d[c])||!f.isDefined(k))return-1;var w=-1;b.each(d[c],function(b,a){a.variant===k&&(w=b)});return w}function K(){if(k.length&&u.repositionHeroImage){var b=v.getHeroDimParams(u,z.getCurrentItem()),c;f.isDefined(b)&&(c=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",k.css({"background-position":c,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function H(b,c,d,w){if(k.length&&b&&c){if("function"===typeof d||w){var r=new Image;r.onload=w?function(){k.css("background-image",'url("'+b+'")')}:d;r.src=b}d=c[1];var r=c[0],a;w||k.css({"background-image":'url("'+b+'")'});u.repositionHeroImage&&(c=v.getHeroDimParams(u,z.getCurrentItem(),c),f.isDefined(c)&&(d=c.width,r=c.height,a=f.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));k.css({"background-position":a,"background-size":d+"px "+r+"px ","max-width":d+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function t(c,f,d,k){c=v.getHeroImageHash(u,c,f);if(-1===c)return-1;f=b.map(c.main,function(b,a){return a})[0];H(f,c.main[f],d,k)}function A(b,c,f){if("hero-image"!==b.type)return-1;var k=G(b.color,z.getCurrentItem().variant),k=-1!==k?k:0;if(-1===v.getHeroImageHash(u,b.color,k))return-1;var r=z.getCurrentItem();b.thumbnailIndex=r.thumbnailIndex;b.type=r.type;
b.variant=r.variant;b.index=k;D(b,c,f)}function D(b,f,d){var n=v.getHeroImageHash(u,b.color,b.index),r;r=b&&c&&p.equals(b,c)?!0:!1;c||(c=b);if(!r&&b||f)t(b.color,b.index,f,d),c=b;k.removeClass("hide-background");p.trigger("dp:image-block:update",n)}var C,u,z,I,M,k,c={};return function(c,n,d,p){C=this;u=c;z=n;I=p;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];C.render=function(c,a,f,d,n,p,y){M=d;k=b("#heroImage");c=N(a,c,p);A(z.getCurrentItem(),y,p);return c};C.update=function(b){var a=
b.data;"ingress"!==a.type&&k.addClass("hide-background");"swatchHover"===b.type?b.captured||(a.type=z.getCurrentItem().type,-1!==A(a)&&(b.captured=!0)):"hero-image"===a.type&&(D(a),"click"!==b.type&&u.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,M))};I.register("resize",K)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(p,b,f,E,n,N){function G(b){M?b.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function K(b){var c=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(f.isDefined(c))for(var c=c[1].split("_"),n=0;n<c.length;n++){var p=c[n].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(p)&&(b[p[1]]=parseInt(p[2],10))}return b}function H(k,c){function y(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,z[0]-(C[0]+a))/(C[2]-2*a)),Math.min(1,Math.max(0,z[1]-(C[1]+a))/(C[3]-
2*a))]):a=A&&A.updatePosition();if(a&&x&&x.detailSize){var b=[x.detailSize[0]-x.rect.width,x.detailSize[1]-x.rect.height];p.capabilities.rtl?x.detailImage.get(0).style.right=-(a[0]*b[0])+"px":x.detailImage.get(0).style.left=-(a[0]*b[0])+"px";x.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function u(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function d(a){var e=F?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";z=F?[e.pageX,e.pageY]:[a.pageX,a.pageY];if(p.capabilities.rtl){var g=
b(v).width();z=F?[g-e.pageX,e.pageY]:[g-a.pageX,a.pageY]}}function w(a){F&&a.preventDefault();d(a);c.useClickZoom?a=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(a=A?A.offset:k.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,t.width()+a.left,t.height()+a.top]:[l[0]+a.left,l[1]+a.top,l[0]+l[2]+a.left,l[1]+l[3]+a.top]);z[0]<a[0]||z[1]<a[1]||z[0]>=a[2]||z[1]>=a[3]||D.acEnabled&&!u(k)?(c.fadeMagnifier?Z||(Z=!0,H=setTimeout(function(){r(!0)},500)):c.useClickZoom||r(),I&&(I=!1,clearTimeout(aa))):(I||(I=!0,aa=setTimeout(function(){E.postCountMetric("dppc_hoverZoomOpened");
n.isEnabled&&N.logHoverZoomRequestServed(n)},1E3)),c.fadeMagnifier&&Z&&(Z=!1,clearTimeout(H)),y())}function r(e){e&&m.suppressMagnifier(!0);if(g&&(x&&x.hide(),A&&(A.destroy(),A=null),g=!1,F?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),q(),e))k.one("click.magnifier touchstart.magnifier",function(b){a(b,!0)})}function a(a,f){f&&m.suppressMagnifier(!1);if(!g&&
!h&&(0===T&&(E.postCountMetric("dppc_hoverTime",new Date-(v.ue&&v.ue.t0||0)),T=1),W[e]||(E.postCountMetric("dppc_hoverMain"),W[e]=1),l=[k.position().left,k.position().top,k.width(),k.height()],e&&(d(a),x?x.refit().show():x=new ba,c.useClickZoom||(A=A||new Y),C=x.getWindowSize(),y()),g=!0,F?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",r),b(document).trigger("engaged.magnifier")):(D.acEnabled?t.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),f)){var ea=b("#zoomWindow");if(0<ea.length)ea.one("click.magnifier touchend.magnifier",function(a){r(!0)})}}function q(){c.useHoverZoom&&(F?k.bind("touchstart.magnifier touchmove.magnifier",a):D.acEnabled?u(k)&&t.bind("mousemove.magnifier",a):k.bind("mousemove.magnifier",a))}var m=this,t=k.offsetParent(),B={detailImageUrl:k.attr("data-old-hires"),location:"over",locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};
c=b.extend(B,c);c.adjustment=[10,0,-10,0];var x=null,A=null,z=null,l=null,C=null,L={"null":1,"":1,undefined:1},g=!1,h=!1,e=c.detailImageUrl,F=c.useHoverZoomIpad||0,T=0,W={},Y=function(){function a(b){var e=Math.round(Math.min(k.width(),x.rect.width/b));b=Math.round(Math.min(k.height(),x.rect.height/b));d.css({width:e,height:b});g=[e,b]}var e=this,g=[0,0],h=(x.detailSize&&x.detailSize[0]||5E8)/l[2],f=(x.detailSize&&x.detailSize[1]||5E8)/l[3],h=f>h?f:h;b("#magnifierLens").remove();var d=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&d.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?G(d):d.css("cursor","pointer");e.updatePosition=function(){var a=[l[2]-g[0],l[3]-g[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(z[0]-g[0]/2-l[0]-e.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-g[1]/2-l[1]-e.offset.top)/a[1])),h=l[0]+Math.round(b*a[0]),a=l[1]+Math.round(c*a[1]);d.get(0).style.left=h+"px";d.get(0).style.top=a+"px";return[b,c]};e.destroy=function(){d.remove()};
e.offset=k.offsetParent().offset();a(h);e.updatePosition();d.appendTo(k.parent());x.detailImage[0].complete||x.detailImage.load(function(){var b=x.detailImage.width()/l[2];a(b);e.updatePosition()})};Y.preload=function(){m.preload(c.generalImageUrls.lensBackgroundUrl)};var ba=function(){function a(){var e={};if("over"===c.location){var e=c.useClickZoom,g={},F=b("#leftCol"),T=b("#centerCol"),Q=b("#rightCol"),l=b("#hover-zoom-end"),Y=b("#actionPanelContainer"),q=f.isjQueryObjDefined(F)?F.outerHeight():
T.outerHeight();g.top=f.isjQueryObjDefined(F)?F.offset().top:T.offset().top;g.bottom=q+g.top;g.right=f.isjQueryObjDefined(Q)?Q.offset().left:Y.offset().left;g.left=e?0:F.offset().left+F.outerWidth();f.isjQueryObjDefined(l)&&l.offset().top>g.bottom&&(g.bottom=l.offset().top);e=g}else"right"===c.location&&(e=k.offset(),e={left:e.left+k.outerWidth(),top:e.top,right:e.left+k.outerWidth()+400,bottom:e.top+400});c.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+b(c.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,b(v).scrollTop()+b(v).height());e.left+=d[0];e.top+=d[1];e.right+=d[2];e.bottom+=d[3];e.width=e.right-e.left;e.height=e.bottom-e.top;c.enhancedHoverOverlay&&f.isDefined(v.pageXOffset)&&(g=b(v).width(),e.width=g-e.left+v.pageXOffset-18,e.height-=14);m.css({left:e.left,top:e.top,width:e.width,height:e.height});h.rect=e;return h}function g(a){var e=new Image;h.detailSize=[0,0];e.onload=function(){h.detailSize=[e.width,e.height];y()};e.src=a.attr("src");if(0<e.width&&0<e.height)h.detailSize=
[e.width,e.height];else if(c.detailImageSize)h.detailSize=c.detailImageSize;else{a=K(e.src);var b=l[2]/l[3];a.SS||a.AA?(a=a.SS||a.AA,h.detailSize=[a,a]):a.SX?h.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?h.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(h.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var h=this,d=c.adjustment;b("#zoomWindow").remove();var F={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(F.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
F.border="1px solid #949494",F.borderColor="rgb(148,148,148)");var m=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(F);c.fadeMagnifier&&m.fadeIn(200);c.useClickZoom&&(M?m.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(m.css("cursor","-webkit-zoom-out"),m.css("cursor","-moz-zoom-out"),m.css("cursor","zoom-out")));h.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");h.detailImage&&h.detailImage.remove();m.append(a);b(document).trigger("updated.magnifier");
h.detailImage=a;g(h.detailImage)};h.refit=function(){a();g(h.detailImage);return h};c.fadeMagnifier?(h.show=function(){m.fadeIn(200);return h},h.hide=function(){m.fadeOut(200);return h}):(h.show=function(){m.show();return h},h.hide=function(){m.hide();return h});h.destroy=function(){m.remove();return h};h.getWindowSize=function(){return[h.rect.left,h.rect.top,h.rect.width,h.rect.height]};h.updateImage(e);a();m.appendTo(document.body)},Z=!1,H,I=!1,aa;m.preload=function(a){a=b.makeArray(a);for(var e=
a.length,g=0;g<e;g++)a[g]instanceof Array?m.preload(a[g]):"string"===typeof a[g]&&a[g]&&!L[a[g]]&&(L[a[g]]=new Image,L[a[g]].src=a[g])};m.changeImage=function(a,h){g&&r();e=h;k.attr("src",a);m.preload(a);l=[k.position().left,k.position().top,k.width(),k.height()];h&&("immediately"===c.preload?m.preload(h,!0):b(v).ready(function(){m.preload(h)}),x?x.updateImage(h):k.attr("data-old-hires",h))};m.destroy=function(){D.acEnabled?t.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;x&&x.destroy();x=null};m.detailImage=function(){return x.detailImage};m.suppressMagnifier=function(a){h=a};m.isEngaged=function(){return g};m.engageMagnifier=a;m.disengageMagnifier=r;k[0].complete?q():k.one("load",q);m.preload(k.attr("src"));v.performance&&performance.now&&v.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var U=
c.detailImageUrl,B=function(){m.preload(U,!0);c.useClickZoom||Y.preload()},Q=c.preload;Q.constructor!==Array&&(Q=[Q]);for(var X=0;X<Q.length;X++)if("immediately"===Q[X])B();else if(b(v)[Q[X]])b(v)[Q[X]](B);else b(v).bind(Q[X],B)}return m}function t(){if(D.useHoverZoom){var k={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,
zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};z&&(z.destroy(),z=V);var c=I.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(c)?D.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){z=new H(c,k);z.engageMagnifier(b,!0)}),M?c.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor",
"-moz-zoom-in"),c.css("cursor","zoom-in"))):z=new H(c,k):n.isEnabled&&N.logHoverZoomApplicability(b,n)}}var A,D,C,u,z,I,M=navigator.userAgent.match(/msie|trident/i);return function(b,c,f,p){A=this;D=b;C=c;n.refToModel=C;u=p;A.render=function(b,c,f,a,k,m){I=f;z&&(z.destroy(),z=V)};A.update=function(b){};u.register("loadMagnifier",t);u.register("resize",t)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(p,b,f,E){function n(b,p,n){b=(b=n?
n:f.getColorFromState(p.getState().hovered_variations,K))&&""!==b?b:K.defaultColor;t.dispatch("updateView",{type:"swatchHover",data:{color:b}});E.postCountMetric("swatchHover")}function N(b,n,p,u){b=(b=u?u:f.getColorFromState(n.getState().selected_variations,K))&&""!==b?b:K.defaultColor;b===H.getCurrentItem().color?"function"===typeof p&&p():(t.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof v.markFeatureRender&&
v.markFeatureRender("imageblock",b);p()}}),E.postCountMetric("swatchClick"))}var G,K,H,t;return function(b,f,v,u){G=this;K=b;H=f;t=u;p.on("image-block-twister-swatch-hover",n);p.on("image-block-twister-swatch-click",N);G.render=function(b,f,p,k,c){};G.update=function(b){}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(p,b,f,ca,n,N,G){function K(e,g,h,c){if(!f.isjQueryObjDefined(e.find(".a-button-selected"))){var d=
q.getCurrentItem();if(!c||"chromeless-video"!==d.type||!a.autoplayVideo)if(c=0,"image"===d.type&&(c=Math.max(D(d.color,d.variant),0)),!(d.thumbnailIndex>=a.maxAlts&&0!=c)){var k=g+c;k>=h&&(c=0,k=g);g=f.getImageHash(d.color,c,a);-1!==g&&(m.dispatch("updateModel",{data:{index:c,thumbnailIndex:k,variant:g.variant,type:"image",shoppableScene:g.shoppableScene}}),g=e.find(".item").get(k),f.selectGivenThumbnail(b(g),e))}}}function H(e,g,h){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&
h)return e;var c=a.colorImages&&a.colorImages[g];g=e;2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(e){(!b(this)[0].classList.contains("thumbTypeimage")||e>=c.length||e>=a.maxAlts)&&b(this).remove()});f.isDefined(c)&&(b.each(c,function(g,h){if(e<a.maxAlts)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){e++;var d=b(".thumbItemUnrolled");d[g]?d[g].querySelector("img").src=h.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+e+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+e+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+e+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else{var d=
{type:"image",index:g,thumbnailIndex:e,variant:h.variant,shoppableScene:h.shoppableScene},F=f.createThumbnail(d,h.thumb,x,"imageThumbnail");a.collapsibleThumbnails&&f.updateImageThumbnailOverlay(F,d,c);e++}}),N.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(b,N,q),K(x,g,e,h));return e}function t(b,g){a.useIV&&f.isDefined(g.hiRes)&&b.css("cursor","pointer")}function A(e,g){if("image"===e.type){var h=b("#image-canvas-caption #canvasCaption"),c,d=a.staticStrings,m=a.colorImages,k=e.color,l=e.index;
f.isShoppableScenesEnabled()&&e.shoppableScene?c=d.clickSceneTagsToShopProducts:g&&a.useIV?c=d.clickToExpand:m[k]&&m[k][l].hiRes&&a.useHoverZoom?(c=a.useHoverZoomIpad?d.touchToZoom:a.useClickZoom?d.clickToZoom:d.rollOverToZoom,a.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+a.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):a.useIV&&(c=d.clickToExpand);h.html(c)}}function D(b,g){return f.getIndexForVariant(b,g,a)}function C(b,c,f){var d=c.thumbnailIndex,m=a.colorToAsin[c.color]&&a.colorToAsin[c.color].asin;
c="altImageHover"===f&&l&&l.altImageIdx===d&&l.asin===m&&"swatchClick"===l.event?!0:"swatchHover"===f?l&&l.asin===m&&l.event===f:l&&l.altImageIdx===d&&l.asin===m&&l.event===f;if(!c){var k="#",q=b.find(".imgTagWrapper img").get(0);q&&(k=q.src);b=new Image;b.onload=function(){if(q){q.src=k;var a=q.width,b=q.height,e=q.naturalWidth,c=q.naturalHeight;try{var F=(Math.abs(a/e*c-b)/b).toFixed(2);.01<F&&(v.ue&&((("landing"!==f||g||h)&&"swatchClick"!==f||v.ue.count("imageBlock-PC-hi_res_image_distortion",
1),"landing"===f||"swatchClick"===f)?v.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==f||h?"altImageHover"!==f||g||(v.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),g=!0):(v.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),h=!0)),v.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},v.ueLogError("swatchHover"===f?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" Event:"+f+" Diff:"+F.toString()+"]"}:
{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" at altImageIdx "+d+" Event:"+f+" Diff:"+F.toString()+"]"},a)))}catch(l){v.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},v.ueLogError(l,a))}}};"#"!==k&&(b.src=k);l.altImageIdx=d;l.asin=m;l.event=f}}function u(e,g){var h="a-dynamic-image";if(!a.acEnabled){var c;b.each(e.main,function(b,e){f.isDefined(c)||(c=parseFloat(e[1]/e[0])<=parseFloat(a.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});
h+=c}var d=f.getMaxDimensionsOfMainImage(e.main,R,a),m=d[0],k=d[1],d=b("\x3cdiv\x3e\x3c/div\x3e"),m={"max-height":m,"max-width":k};d.addClass(h).css(m).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",e.main);return d}function z(a,b,g){var h="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",h,{wb:1});g.attr("data-a-image-name","shoppable-scene:"+a);g=O.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
g.addClass("celwidget").attr("cel_widget_id",h);g.children("span").css("display","inline-block");m.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:g.find(".mirai-scene-tag-placeholder"),$viewProductsButton:g.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(g,h){g.forEach(function(g){"childList"===g.type&&g.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===g.addedNodes.length&&"IMG"===g.addedNodes[0].tagName&&""!==g.addedNodes[0].src&&(g=g.addedNodes[0],"function"!==typeof g.onload&&(g.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),h.disconnect())})})).observe(g.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",h,{wb:1});return g}function I(a,b,g){g=u(a,g);a=f.isShoppableScenesEnabled()&&a.shoppableScene?z(b,a,g):O.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(g);O.find(".list").append(a);p.loadImageManually(g);p.trigger("dp:image-block:imageBlockImageLoad",b);return a}function M(b){var g=R.css("height");null!==g&&b.find(".imgTagWrapper").css("height",g);b.addClass("selected");a.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(a.imgTagWrapperClasses)}
function k(a){if(a.isUserGenerated){var b=q.getPreviousItem(),g=a.variant;f.isDefined(g)&&b.thumbnailIndex!==a.thumbnailIndex&&(N.isEnabled&&G.logAltImgRequestServed(N),n.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(n.postCountMetric("IGImageSelectedVariant:"+g),n.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function c(e,c,d,l){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&!l&&"unavailable"!==e.type){if(e=a.colorImages&&a.colorImages[d],
b(".unrolledImg").each(function(a){b(this).remove()}),f.isDefined(e)&&(b.each(e,function(g,e){if(g<a.maxAlts){var h=b(".unrolledImg");h[g]?b(".unrolledImg #unrolledImgNo"+g+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):g>=h.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(g+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
g+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+g+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}}),p.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),d=f.isDefined(c)))n.postCountMetric("mainImageUpdateOnTwisterVariationClick"),c()}else if("image"===e.type||"unavailable"===e.type||"lazy-loaded"===e.type){(d=f.isDefined(c))&&n.postCountMetric("mainImageUpdateOnTwisterVariationClick");
l=f.getImageHash(e.color,e.index,a);if(-1===l)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(e,q,a)||(m.dispatch("updateModel",c),f.showUnavailable(e.color)),-1;var y=O.find(".item.itemNo"+e.thumbnailIndex);f.isjQueryObjDefined(y)||(y=I(l,e.thumbnailIndex,c),d?(h=g=!1,C(y,e,"swatchClick")):C(y,e,"altImageHover"));M(y);m.dispatch("loadMagnifier");A(e);t(y,l);k(e);p.trigger("dp:image-block:update",l)}}function y(b){var g=Math.max(D(b.color,q.getCurrentItem().variant),
0),g=f.getImageHash(b.color,g,a);if(-1===g)return f.lazyLoadingRequired(b,q,a)||f.showUnavailable(b.color),-1;var h=O.find(".swatchHoverExp"),c=u(g);h.find(".imgTagWrapper").html(c);p.loadImageManually(c);n.postCountMetric("mainImageUpdateOnTwisterVariationHover");M(h);C(h,b,"swatchHover");p.trigger("dp:image-block:update",g)}function P(g,h){f.lazyLoadingRequired(g,q,a)||(b("#imageBlock").css("opacity","1"),O.css("opacity","1"),f.spinner(O,!1),O.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),
f.hideUnavailable(),h&&O.find(".list .item").remove())}function d(){var g=O.find(".item .imgTagWrapper"),h=f.getContainerHeight(R,a.holderRatio,a.holderMaxHeight);0<h&&(R.height(h),g.height(h));O.find("img.a-dynamic-image").each(function(){var g=b(this);g.data("a-manual-replacement")&&p.loadDynamicImage(this);var e=g.data("a-dynamic-image"),e=f.getMaxDimensionsOfMainImage(e,R,a);g.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function w(a){A(q.getCurrentItem(),"mouseenter"===a.type)}var r,
a,q,m,J,B,x,O,R,l={},S,L=null,g=!1,h=!1;p.on("triggerImageAjax",function(b){var g=q.getCurrentItem().color;a.colorImages[g]||(a.colorImages[g]=b);b={type:"updatedData",data:q.getCurrentItem()};m.dispatch("updateView",b);(g=a.colorToAsin[g])&&g.asin&&E.register(f.rankedImagesReadyEvent(g.asin))});return function(g,h,k,l){r=this;a=g;q=h;m=l;a.colorImages[a.landingAsinColor]=a.colorImages[a.defaultColor];r.render=function(g,h,e,d,k,l,p,Q){O=2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment?
e:b(".unrolledScrollBox");x=d;R=k;S=H(h,g,l);l?0===h&&C(O.find(".item.itemNo0"),q.getCurrentItem(),"landing"):(h=q.getCurrentItem(),f.lazyLoadingRequired(h,q,a)&&m.dispatch("updateModel",{data:{type:"lazy-loaded"}}));P(q.getCurrentItem(),!l);2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment?"swatchClick"===Q&&a&&a.colorImages?(L=a.colorImages[g],c(q.getCurrentItem(),p,g,l)):"updatedData"===Q&&a&&a.colorImages&&a.colorImages[g]!==L&&(L=a.colorImages[g],c(q.getCurrentItem(),p,g,l)):
c(q.getCurrentItem(),p,g,l);return S};f.isImageBlockGridViewHoverDelayEnabled()?r.update=function(b){var g=b.data;q.setCurrentEvent(b);"ingress"!==g.type&&"swatchHover"!==b.type&&(q.setToPreviousItem(),"mouseenter"===b.type?(B&&clearTimeout(B),B=setTimeout(function(){q.setToCurrentItem(g);P(b.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===b.type?B&&clearTimeout(B):"click"===b.type&&(q.setToCurrentItem(g),P(b.data,!1)));"swatchHover"===b.type?("ingress"!==g.type&&P(b.data,!1),g.color===q.getCurrentItem().color?
c(q.getCurrentItem(),null,g.color,!0):b.captured||-1===y(g)||(b.captured=!0)):"image"===g.type&&(g.interaction=b.type,g.isUserGenerated=!0,"mouseenter"===b.type?(n.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+S),J&&clearTimeout(J),J=setTimeout(function(){c(g,null,g.color,!0);a.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,x)},f.getHoveringDelayTimer())):"mouseleave"===b.type?J&&clearTimeout(J):"click"===b.type&&(c(g,null,g.color,!0),f.selectGivenThumbnail(b.$declarativeParent,
x),n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+S)))}:r.update=function(b){var g=b.data;q.setCurrentEvent(b);"ingress"!==g.type&&P(b.data,!1);"swatchHover"===b.type?g.color===q.getCurrentItem().color?c(q.getCurrentItem(),null,g.color,!0):b.captured||-1===y(g)||(b.captured=!0):"image"===g.type&&(g.interaction=b.type,g.isUserGenerated=!0,"mouseenter"===b.type&&n.postCountMetric("dpcc_imageThumbHovered_"+(g.thumbnailIndex+1)+"_"+
S),c(g,null,g.color,!0),a.usePeekHover&&"click"!==b.type||(f.selectGivenThumbnail(b.$declarativeParent,x),"click"===b.type&&(n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(g.thumbnailIndex+1)+"_"+S))))};a.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");m.register("imageHover",w);m.register("resize",d)}});E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(p,b,f,v){function n(f,k){var c=
b("\x3cimg src\x3d'"+(k?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:k?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return c}function N(f){var k=b("\x3cspan\x3e");p.each(f.tags,function(c){var f=b("\x3cdiv\x3e").css({position:"absolute",left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});f.append(n(c,!1));f.append(n(c,!0));f.bind("mouseenter",function(){G(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});
p.declarative.create(f,"scenes-show-details-tags-ib",{tagId:c.link});k.append(f)});return k.children()}function G(b){b.addClass("mirai-scene-dot-pulsate");p.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function K(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function H(b,f,c){b.eq(c).css({display:"inline-block"});f.eq(c).css({display:"none"})}function t(b){E.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){p.trigger("mirai:scene-details-change",
{physicalId:b})})}function A(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),c=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");c.html(u.staticStrings.shoppableSceneViewProductsButton);return f.append(k).append(c)[0].outerHTML}function D(b){function f(){b.$tagPlaceholder.replaceWith(n);var a=n.find(".mirai-scene-tag.active-tag"),c=
n.find(".mirai-scene-tag.inactive-tag");H(a,c,0);G(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));I=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});r=!0;v.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var c=b.$viewProductsButton.find(".a-button-text");if(0===c.children().length){c.append(A());p.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:b.shoppableScene.tags[0].link});var n=N(b.shoppableScene),t=n.find(".mirai-scene-tag.active-tag"),d=n.find(".mirai-scene-tag.inactive-tag"),w=b.shoppableScene.physicalId,r=!1;p.on("mirai:index:change",function(a){a.scenePhysicalId===w&&(a=a.selectedIndices[0],K(t,d),H(t,d,a),G(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),I=!0)});p.on("mirai:scene-details-change",function(a){a.physicalId!==w||I||(K(t,d),H(t,d,0),G(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
I=!0)});p.on("mirai:no-products-active",function(a){a.scenePhysicalId===w&&K(t,d)});p.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===w&&(K(t,d),H(t,d,0))});p.on("a:image:load:shoppable-scene:"+b.index,function(){r||(f(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});p.on("shoppable-scene-image-loaded",function(a){a.index!=b.index||r||(f(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});E.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){p.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});p.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var C,u,z,I=!1;return function(b,k,c,n){C=this;u=b;z=n;f.isShoppableScenesEnabled()?(z.register("initialize-shoppable-scene",D),C.render=function(b,c,f,k,a,q,m){},C.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?t(b.data.shoppableScene.physicalId):I=!1)}):(b=function(){},C.render=b,C.update=
b)}});E.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";E.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(p,b,f,E,n,N,G,K,H){function t(a){return null!==a&&"undefined"!==typeof a}function A(a){var h=0;b.each(a,function(a,b){var g=parseInt(b[1],10);g>h&&(h=g)});return h}function D(a){var h=0;b.each(a,function(a,b){var g=
parseInt(b[0],10);g>h&&(h=g)});return h}function C(a,b,e){b=b.width();if(e.naturalMainImageSize)return b;a=A(a);0<a&&(b=Math.min(b,a));return b}function u(a,b,e){b=b.height();if(e.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function z(a){var h;b.each(a,function(a,b){t(h)||(h=b[1]/b[0])});return h||1}function I(a,h,e,c,d,l,n,p,r,u,t,x,w,Q,X){var v=b.extend({},e.foresterMetadataParams);null!==c&&(v.method+="."+c);var y=[];h.disabledViewIds&&(y=h.disabledViewIds);X=X&&X.videoBackgroundChromefulMainView?
X.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===Q&&(X="transparent");return f.embed({parentElement:a[0],streamingUrls:h.url,contentId:h.mediaObjectId,contentMinAge:Number(h.minimumAge||"")||0,contentTitle:h.title,swfUrl:e.swfUrl,foresterMetadataParams:v,backgroundColor:X,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:h.slateUrl,postMediaSlate:h.slateUrl},videoAds:e.videoAds,bindings:{play:function(){if("ImmersiveView"===c)q||(q=!0,E.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(m||(m=!0,E.postCountMetric("dppc_chromefulVideoPlayedPV")),!u){var a=E.buildNexusMetric("ib.thumbnailClick",r,h.mediaObjectId,h.groupType,t,x,w);E.emitNexusMetric(a)}}},cuePoints:[{values:h.durationSeconds-1,type:"position",callback:function(a,b,g){d&&(M(0,l,p),k(n))}}],disabledViewIds:y})}function M(a,b,e){b.fadeTo(500,0,function(){c(a,e);b.fadeTo(500,1)})}function k(a){a&&a.toggle()}function c(a,h){var e=h.find("img");t(e[a])&&b(e[a]).click()}function y(a,b){x[a]=b?b:x[a];return x[a]}function P(a,
h,e){e=e||B;e=e.colorImages;if(1>e.length||!t(e[a])||!t(h))return-1;var c=-1;b.each(e[a],function(a,b){b.variant===h&&(c=a)});return c}function d(a,h,e){e=e||B;e=e.colorImages;return!(t(e)&&t(e[a])&&t(e[a][h])&&t(e[a][h].main))||1>b.map(e[a][h].main,function(a,b){return b}).length?-1:e[a][h]}function w(a,b,e,c){c.parent().css("z-index",2);0!==e&&0!==b&&(b/=e,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function r(a,c){var e;if(e=a.useIV)e=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?
!0:!1;G.isEnabled&&(G.IVApplicaple=e,K.logImmersiveViewApplicability(b,G));return e}function a(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var q,m,J,B=b.extend(!0,{},n,N),x={},O=0,R=0,l=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,S={},L={};return{isDefined:t,isDefinedAndEmpty:function(a){return t(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return t(a)?"object"===
typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return t(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:z,getMaxHeightOfMainImage:u,getMaxWidthOfMainImage:C,getMaxDimensionsOfMainImage:function(a,b,e){if(e.acEnabled)return[b.height(),b.width()];var c=u(a,b,e);b=C(a,b,e);a=z(a);e=b/a;b=Math.min(b,c*a);c=Math.min(c,e);return[c,b]},getContainerHeight:function(a,b,e){var c=a.get(0);a=0;if(t(c)){a=c.offsetWidth/
b;a=Math.min(a,e);var f;b=B.mainImageHeightPartitions;e=B.mainImageMaxSizes;if(t(e)&&t(b)){for(var d=0,m=v.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)m>b[c]&&(d=c+1);e.length>=d&&(f=e[d])}t(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||B;var e="";b.each(c.visualDimensions,function(b,c){a[c]&&(e+=" "+a[c])});return e&&e.substring(1)}},createThumbnail:function(b,c,e,f){var d=e.find(".template").clone().removeClass("template").addClass("item"),
m=document.createElement("img");m.src=c;d.find(".placeHolder").replaceWith(m);(c=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===c&&d.addClass("heroImageThumbnail");t(f)&&d.addClass(f);a()&&d&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",m.parentNode.insertBefore(f,m));p.declarative.create(d,"thumb-action",b);d.attr&&(d.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),
d.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-hover")),d.attr("data-csa-c-posy",b.thumbnailIndex+1));e.append(d);return d},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,f,d,m,l,k){I(a,b,c,f,d,m,l,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:I,loadMediaIntoAiry:function(a,b,c,f){a&&a.getMediaSourceInfo()!==b.url&&(f?a.loadMedia?(J={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(J)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):
a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:M,toggleVideoCaption:k,selectThumbnail:c,spinner:function(a,c){var e=b("#imageBlock .a-spinner").parent();0===e.length&&(e=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:y,getIndexForVariant:P,getImageHash:d,lazyLoadingRequired:function(a,b,c){b=Math.max(P(a.color,b.getCurrentItem().variant,c),0);b=-1!==d(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==y(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:w,repositionVideoBanner:function(a,b,c,f){setTimeout(function(){var c=a.width()/a.height();w(c,16,9,b)},f||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!t(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return t(a)&&t(a[b])&&t(a[b].url)?a[b]:-1},isImmersiveViewEnabled:r,playVideoInImmersiveView:function(a,b){return r(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return t(J)?J.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){v.ue&&v.ue.tag&&v.ue.tag(a)},isShoppableScenesEnabled:function(){return H.isEnabled&&
0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:a,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return O},updateThumbnailHoverDelay:function(a){if(t(a)){O=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=R;a=a.closest("ul").attr("class");a===V?c=!1:(a=
l.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(O=100);R=b}}},setDimensionIngressData:function(a,b,c){S[a]=b;L[a]=c},isDimensionIngressEnabled:function(a){return!!S[a]},getDimensionVariantList:function(a){return L[a]}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(p,b,f,ca,n,N){function G(c,e,d,g){!a.autoplayVideo||da||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&
(d=q.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===d.type&&a.autoplayVideo)&&(g=f.getVideoHash(d.color,0,a),-1===g||d.thumbnailIndex>=a.maxAlts-1||(e+=0,m.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=c.find(".item").get(e),f.selectGivenThumbnail(b(e),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,O,c))}function K(b){var c=q.getCurrentItem().color;
if(a.useChildVideos&&!a.colorToVideo[c]){var e=function(){if(b){a.colorToVideo[c]=b;var e={type:"updatedData",data:q.getCurrentItem()};m.dispatch("updateView",e)}};a.lazyLoadExperienceDisabled?e():E.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){e()})}}function H(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:q.getCurrentItem()},m.dispatch("updateView",b))}function t(b){if(!a.useChildVideos)return f.lazyLoadingRequired(q.getCurrentItem(),q,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];
var c=a.colorToAsin[b];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(e.success=function(a){K(a)},ca.load("/gp/product/features/apparel-main-image/videos.html",e));return a.colorToVideo&&a.colorToVideo[b]}}function A(b){l&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(l.hide(),B.parent().css("z-index",-1),x.hide())}function D(b,
c,e){c=O.width()/O.height();var d=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,d,g,B);if(l&&"unrolled-video-add"!==e)l.show(),f.loadMediaIntoAiry(l,b,S,a.tabletWeb);else if(a.tabletWeb)l=h;else{if("unrolled-video-add"===e){l=h;return}if(null===h||h===V)U=setInterval(function(){l=h;l!==V&&null!==l&&(l.show(),f.loadMediaIntoAiry(l,b,S,a.tabletWeb),C(),k(l),clearInterval(U),U=null)},500);else if(l=h,l!==V&&null!==l){l.show();f.loadMediaIntoAiry(l,b,S,a.tabletWeb);C();
k(l);return}}C();k(l)}function C(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(q.getCurrentItem().color,a)){if(f.isDefined(R)){x.show();return}R=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);x.find("#videoCaption").append(R);p.declarative.create(R,"videoIngressClick",L)}f.playVideoInImmersiveView(a,q.getCurrentItem().color)&&(p.declarative.create(B,"videoIngressClick",
L),B.attr&&B.attr("data-ux-click",""),B.children().css("z-index","-1"),B.css("display","inline-block"))}else x.find("#videoCaption").text(a.staticStrings.playVideo),x.show()}function u(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var e=f.getVideoHash(b.color,b.index,a);if(-1===e)return-1;"chromeful-video"===b.type&&D(e,b.thumbnailIndex+1,c)}}function z(c,d,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&g)return c;var h=t(d);
d=c;var m=b(".unrolledImg"),l=f.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;f.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&n.postCountMetric("IBVideoDrop");m.length>a.maxAlts&&m.each(function(c){c>=a.maxAlts&&b(this).remove()});l&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):J.find(".item:last").remove(),c--);f.isDefined(h)&&(b.each(h,function(d,g){if(c<a.maxAlts){if(2===
a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var m=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+m+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||I(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{var m=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",l={type:m,index:d,thumbnailIndex:c,variant:g.variant};L={type:"video-ingress",index:d,thumbnailIndex:c,variant:g.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
m&&(aa+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(aa+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(aa+=" videoImageBlockGridView");f.createThumbnail(l,g.thumb,J,aa);2===a.dp60VideoPosition&&I(J,a.dp60VideoPosition);if(f.useTabbedImmersiveView(a)){M(J.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var l=1<h.length?"multiple-videos":"one-video",k=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<h.length?h.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;k&&J.find(".videoBlockIngress").append(J.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(l)}l=n.buildNexusMetric("ib.thumbnailImpression",c+1,g.mediaObjectId,g.groupType,F,e,T,W);n.emitNexusMetric(l);l=n.buildNexusMetric("ib.thumbnailRender",c+1,g.mediaObjectId,g.groupType,F,e,T,W);n.emitNexusMetric(l);fa||(fa=!0,n.postCountMetric("chromeless-video"===m?"dppc_chromelessVideoAvailable":
"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(a))return!1}),G(J,d,c,g),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",p.now()-a.imageBlockRenderingStartTime));return c}function I(c,e){if(0!==e)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var f=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",d=c.children(".thumbTypeimage"),f=c.children(".thumbType"+f);d&&f&&d[e-1]&&b(d[e-1]).before(f[0]);
f=b(".unrolledScrollBox .list-unrolled");d=f.children(".unrolledImg.imgMedia");f=f.children(".unrolledImg.videoMedia");d&&f&&d[e-1]&&b(d[e-1]).before(f[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&(c=e);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else d=c.children(".imageThumbnail"),f=c.children(".videoBlockIngress"),
d&&f&&d[e-1]&&b(d[e-1]).before(f[0])}function M(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var e=new Image;e.onload=function(b){a.attr("src",c)};e.src=c}}function k(b){a.autoplayVideo&&b&&!da&&(f.toggleVideoCaption(x),b.setVolume(0),b.show(),b.play(),da=!0)}function c(c){l&&l.pause();c.data=L;c.clickTimeStamp=c.$event.timeStamp;var f="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";m.dispatch("imageClick",c);n.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);
c=n.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].groupType,F,e,T,W);n.emitNexusMetric(c);n.postCountMetric(f);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function y(a){null!==l&&l!==V&&(l.frame&&l.frame.remove(),l=null,h.frame&&h.frame.remove(),h=null);h=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");
h.hide=function(){h.pause();p.$("#main-video-container").find(".vse-player-container").hide()};h.show=function(){p.$("#main-video-container").find(".vse-player-container").show()};h.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function P(d,g,h,m,l,k){A(k);B=null!==k?b("#unrolledImgNo"+k.thumbnailIndex):m.find("#main-video-container");x=null!==k?"":B.parent().find("#video-canvas-caption");O=null!==k?b(".unrolledScrollBox"):b("#main-image-container");null===k&&f.isImageBlockGridViewDisplayEnabled()&&
(B.addClass("videoCenter"),m.find("#video-outer-container").addClass("videoWrapperCenter"));F=v.location.href;d=q.getCurrentItem().color;!0===l?e=a.mediaAsin:(e=a.colorToAsin[d]&&a.colorToAsin[d].asin,e=f.isDefined(e)?e:a.mediaAsin);a.useChromelessVideoPlayer||B.addClass("chromeful-container");null!==k?u(k,"unrolled-video-add"):u(q.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&p.declarative("videoIngressClick",["click"],c);if(-1!==n&&null!==k){d=q.getCurrentItem().color;var n=f.getVideoHash(d,
k.index,a);N.get(p,"#unrolledImgNo"+k.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+k.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl}},function(){p.$("#unrolledImgNo"+k.thumbnailIndex).find(".vse-player-container").show()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function d(a,
b){function c(a){a=Math.floor((J.width()-1)/g);a=e?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var e=0!=J.find(".item.videoThumbnail").length,f=b.eq(0).width(),d=b.eq(1).position().left-b.eq(0).position().left-f,g=f+d;c();a.register("resize",c)}function w(a){var b=J.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==V&&c.decode().then(function(){d(a,b)})}}var r,a,q,m,J,B,x,
O,R,l,S,L,g,h,e,F,T,W,Y,ba,Z,fa=!1,da=!1,aa="videoThumbnail",U=null;return function(c,d,h,k){r=this;a=c;q=d;m=k;S=a.airyConfig;T=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(Y="tablet",W="applicationType.ImageBlock.vse_ib_tablet_web"):p.capabilities.tablet?(Y="tablet",p.capabilities.isAmazonApp&&(W="applicationType.ImageBlock.vse_ib_tablet_app")):(Y="desktop",W="desktop_web.ImageBlock.vse_ib_iv");
r.render=function(c,e,d,h,k,l){null!==U&&(clearInterval(U),U=null,B.parent().css("z-index",-1),x.hide());var n=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){J=b("ul.regularAltImageViewLayout");g=z(e,c,l);n=[];e=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var r=0;r<e.length;r++){var u=e[r].classList.contains("thumbTypechromeful-video")?"chromeful-video":
"chromeless-video",t=Number(e[r].classList[2].slice(10)),v=b(".thumbItemUnrolled").index(e[r]);n.push({color:c,thumbnailIndex:v,type:u,varient:"MAIN",index:t})}for(r=0;r<n.length;r++)P(c,d,h,k,l,n[r])}else J=h,g=z(e,c,l),P(c,d,h,k,l,null),c=q.getCurrentItem().color,d=f.getVideoHash(c,0,a),-1!==d&&(c=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,c,d):{requester:"MediaBlockSoftlines",marketplaceID:d.marketPlaceID,clientPrefix:"mbSoftlines",locale:d.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",
alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:d.url,imageURL:d.slateUrl}},N.get(p,"#main-video-container",c,function(){p.$("#main-video-container").find(".vse-player-container").hide()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&w(m);return g};f.isImageBlockGridViewHoverDelayEnabled()?r.update=function(b){null!==U&&(clearInterval(U),U=null,B.parent().css("z-index",-1),x.hide());var c=b.data;"ingress"===c.type||"swatchHover"===
b.type||f.lazyLoadingRequired(c,q,a)||(q.setToPreviousItem(),"mouseenter"===b.type?(Z&&clearTimeout(Z),Z=setTimeout(function(){q.setToCurrentItem(c);A(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?Z&&clearTimeout(Z):"click"===b.type&&(q.setToCurrentItem(c),A(null)));if("swatchHover"===b.type)"ingress"===c.type||f.lazyLoadingRequired(c,q,a)||A(null),c.color===q.getCurrentItem().color?u(q.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,q,a)&&!f.lazyLoadOnHoverEnabled(a)&&u(q.getCurrentItem(),
"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+g),"chromeless-video"===c.type&&(d=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,F,e,T,W),n.emitNexusMetric(d)),ba&&clearTimeout(ba),ba=setTimeout(function(){u(c,"");!a.usePeekHover&&p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,
J)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ba&&clearTimeout(ba):"click"===b.type&&(u(c,""),p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,J),d=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,F,e,T,W),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==Y)&&n.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(n.emitNexusMetric(d),n.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+g),L.action="videoIngressClick",L.clickTimeStamp=b.$event.timeStamp,L.$event=b.$event,L.$currentTarget=b.$currentTarget,m.dispatch("videoIngressClick",L),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:r.update=function(b){null!==U&&(clearInterval(U),U=null,B.parent().css("z-index",-1),x.hide());var c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,q,a)||A(null);if("swatchHover"===b.type)c.color===q.getCurrentItem().color?u(q.getCurrentItem(),""):
b.captured||f.lazyLoadingRequired(c,q,a)&&!f.lazyLoadOnHoverEnabled(a)&&u(q.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type&&(n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+g),"chromeless-video"===c.type)){var h=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,F,e,T,W);n.emitNexusMetric(h)}u(c,"");a.usePeekHover&&"click"!==b.type||!p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||
(f.selectGivenThumbnail(b.$declarativeParent,J),"click"===b.type&&(d=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,F,e,T,W),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==Y)&&n.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(n.emitNexusMetric(d),n.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+g),L.action="videoIngressClick",L.clickTimeStamp=b.$event.timeStamp,L.$event=b.$event,L.$currentTarget=b.$currentTarget,m.dispatch("videoIngressClick",
L),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(p.on("triggerVideoAjax",K),p.on("notShowVideoCountAjax",H));p.on("vsePlayer-imageblock_tablet",y);p.on("vsePlayer-mbsoftlines",y)}});"use strict";E.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(p,b){function f(b,f,G,K,H){function t(a){"click"===a.type&&K.postCountMetric("thumbClick");"click"===a.type&&w.overrideAltImageClickAction?r.dispatch("thumbActionClick",a):r.dispatch("updateSelection",
a)}function A(a){w.useClickZoom||r.dispatch("imageClick",a)}function D(a){w.useClickZoom||r.dispatch("imageHover",a)}function C(a){r.dispatch("button360Click",a)}function u(c){!G.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(d.update(c),"swatchHover"!==c.type&&a.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&K.postCountMetric(c.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",c.data)):(d.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",c))}function z(a){r.dispatch("resize",a)}function I(a){G.selectThumbnail(a,q)}function M(){"function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function k(){w.interactiveCallJSPEnabled||("function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",
{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===p.useIV?E.when("a-modal").execute(function(){M()}):M());w.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],t);b.declarative("thumb-action",["click"],t);b.declarative("main-image-click",["click"],A);b.declarative("main-image-click",["mouseenter","mouseleave"],D);b.declarative("button-360-click",["click"],C);b.on("resize",
z)}function c(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function y(b){var c=a.getCurrentItem(),d={type:"click"};d.$declarativeParent=b;d.data=c;return d}function P(a){G.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&G.updateThumbnailHoverDelay(a.$target)}var d,w,r,a,q;return function(b,n,p){d=this;w=b;r=n;a=p;q=f("#imageBlock #altImages ul");var t=f("#imageBlock .canvas"),z=f("#main-image-container"),A;d.subViews=[];for(n=0;n<H.length;n++)d.subViews.push(new H[n](b,
p,d,r));d.render=function(b,c,k,g){var h=0;q.find(".item").remove();b=b||a.getCurrentItem().color;f.each(d.subViews,function(a,d){h=(2===w.unrolledImageBlockTreatment||3===w.unrolledImageBlockTreatment?d.render(b,h,t,q,z,c,k,g):d.render(b,h,t,q,z,c,k))||h});var e=q.find(".a-button-selected").closest(".a-declarative");A=y(e)};d.init=function(){q=f("#imageBlock #altImages ul");var a=q.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=w.landingAsinColor||
w.defaultColor;r.dispatch("updateModel",{data:a});d.render(a.color,!0);w.isDebug&&v.console&&console.log(w);r.register("updateView",u);r.register("selectThumbnail",I);k()};d.update=function(a){P(a);f.each(d.subViews,function(b,c){c.update(a)});w.usePeekHover&&("mouseleave"===a.type?r.dispatch("updateSelection",A):"click"===a.type&&(A=c(a)||A))}}}var V=["A","jQuery","imageBlockUtils","postMetric"].concat(p.views);E.when.apply(E,V).register("ImageBlockView",function(){for(var b=arguments[0],p=arguments[1],
v=arguments[2],E=arguments[3],H=[],t=4,A=arguments.length;t<A;t++)H.push(arguments[t]);return f(b,p,v,E,H)})})});
/* ******** */
(function(D){var u=window.AmazonUIPageJS||window.P,pa=u._namespace||u.attributeErrors,e=pa?pa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):u;e.guardFatal?e.guardFatal(D)(e,window):e.execute(function(){D(e,window)})})(function(D,u,pa){D.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(e,b,c,r,h){function sa(a,g){var f=b(a+" image").attr("data");b(a+" image")[0].setAttribute("href",
f);var c=new Image;c.src=f;c.onload=function(){g(this.width/this.height)}}function v(a){null!==b(a.euclidSvg)&&(new Promise(function(b,f){sa(a.euclidSvg,b)})).then(function(g){var f,c,d,k,m,e,p,l,aa,W,fa,n,r,q,v,ma,ha,H,x,A,ga,C,oa,B,da,I,sa,G,na,O,S,P,Hb,Ib,Jb,Kb,Lb,Mb,Nb,D,R,Z,F;if(null===b(a.featureDiv)||0===b(a.featureDiv).length||0>=g)F=null;else{var ea=b(a.featureDiv).width(),V=b(a.featureDiv).height(),J=2*(16+t(a.euclidHeightText,a.numberSpace)+10),K=ea-J,U=b(a.euclidHeightLine).data("euclid-height-startx");
0>U?J+=K*Math.abs(U)*2:1<U&&(J+=K*(U-1)*2);K=ea-J;0>K&&(J=152);var ba=b(a.euclidWidthLine).data("euclid-width-starty"),ca=1<ba?V*(ba-1)+50:50,ka=V-ca;if(K/ka>g)var pa=ka*g,Ob=ka,Pb=ka*g+J,Qb=V;else pa=K,Ob=K/g,Pb=ea,Qb=K/g+ca;F={imageWidth:pa,imageHeight:Ob,svgWidth:Pb,svgHeight:Qb}}if("undefined"===typeof F||null===F||10>=F.imageWidth||10>=F.imageHeight||10>=F.svgWidth||10>=F.svgHeight)h.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var va=F,ja=a.euclidSvg;b(ja+" image").attr("width",
va.imageWidth);b(ja+" image").attr("height",va.imageHeight);b(ja).attr("width",va.svgWidth);b(ja).attr("height",va.svgHeight);var wc=(va.svgWidth-va.imageWidth)/2;b(ja+" image")[0].setAttribute("x",wc);b(ja+" image")[0].setAttribute("y",10);var Ua=va.imageWidth,Va=va.imageHeight,y=(va.svgWidth-va.imageWidth)/2,Ea=b(a.euclidLengthLine).data("euclid-length-startx")*Ua,Fa=b(a.euclidLengthLine).data("euclid-length-starty")*Va,Ga=b(a.euclidLengthLine).data("euclid-length-endx")*Ua,Ha=b(a.euclidLengthLine).data("euclid-length-endy")*
Va,Ia=b(a.euclidWidthLine).data("euclid-width-startx")*Ua,Ja=b(a.euclidWidthLine).data("euclid-width-starty")*Va,Ka=b(a.euclidWidthLine).data("euclid-width-endx")*Ua,La=b(a.euclidWidthLine).data("euclid-width-endy")*Va,Wa=b(a.euclidHeightLine).data("euclid-height-startx")*Ua,Xa=b(a.euclidHeightLine).data("euclid-height-starty")*Va,Ya=b(a.euclidHeightLine).data("euclid-height-endx")*Ua,Za=b(a.euclidHeightLine).data("euclid-height-endy")*Va,Rb=(La-Ja)/(Ka-Ia),Sb=0>=Rb?"leftInclined":"rightInclined",
ob=1/Rb,qa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ob,2)))),ta=0===qa?16:Math.abs(ob*qa),wa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ob,2)))),za=0===wa?3:Math.abs(ob*wa),Tb=(Ha-Fa)/(Ga-Ea),pb=1/Tb,ra=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(pb,2)))),ua=0===ra?16:Math.abs(pb*ra),xa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(pb,2)))),Aa=0===xa?3:Math.abs(pb*xa),Ub=0>=Tb?"leftInclined":"rightInclined";if(.5<b(a.euclidHeightLine).data("euclid-height-startx")){var qb=Wa+y+16,rb=Xa+10,
sb=Ya+y+16,tb=Za+10,Vb=Wa+y+16-3,Wb=Xa+10,Xb=Wa+y+16+3,Yb=Xa+10,Zb=Ya+y+16-3,$b=Za+10,ac=Ya+y+16+3,bc=Za+10,cc=(qb+sb)/2+5,dc=(rb+tb)/2+8,Ma=Ka+y+qa,Na=La+ta+10,Oa=Ia+y+qa,Pa=Ja+ta+10,ec=Ka+y+qa-wa,fc=La+ta-za+10,gc=Ka+y+qa+wa,hc=La+ta+za+10,ic=Ia+y+qa-wa,jc=Ja+ta-za+10,kc=Ia+y+qa+wa,lc=Ja+ta+za+10,fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15;"leftInclined"===Sb?(fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15):(fb=(Ma+Oa)/2+5,gb=(Na+Pa)/2);var $a=Ea+y-ra,ab=Fa+ua+10,bb=Ga+y-ra,cb=Ha+ua+10,mc=Ea+y-ra-xa,nc=Fa+ua+Aa+10,oc=Ea+y-ra+xa,
pc=Fa+ua-Aa+10,qc=Ga+y-ra-xa,rc=Ha+ua+Aa+10,sc=Ga+y-ra+xa,tc=Ha+ua-Aa+10,xc=t(a.euclidLengthText,a.numberSpace);if("leftInclined"===Ub)var ub=($a+bb)/2,vb=(ab+cb)/2+15;else ub=($a+bb)/2-xc,vb=(ab+cb)/2+15}else{var qb=Wa+y-16,rb=Xa+10,sb=Ya+y-16,tb=Za+10,Vb=Wa+y-16-3,Wb=Xa+10,Xb=Wa+y-16+3,Yb=Xa+10,Zb=Ya+y-16-3,$b=Za+10,ac=Ya+y-16+3,bc=Za+10,yc=t(a.euclidHeightText,a.numberSpace),cc=(qb+sb)/2-yc-3,dc=(rb+tb)/2+8,Ma=Ka+y-qa,Na=La+ta+10,Oa=Ia+y-qa,Pa=Ja+ta+10,ec=Ka+y-qa-wa,fc=La+ta+za+10,gc=Ka+y-qa+wa,
hc=La+ta-za+10,ic=Ia+y-qa-wa,jc=Ja+ta+za+10,kc=Ia+y-qa+wa,lc=Ja+ta-za+10,uc=t(a.euclidWidthText,a.numberSpace);"leftInclined"===Sb?(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2):(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2+15);$a=Ea+y+ra;ab=Fa+ua+10;bb=Ga+y+ra;cb=Ha+ua+10;mc=Ea+y+ra+xa;nc=Fa+ua+Aa+10;oc=Ea+y+ra-xa;pc=Fa+ua-Aa+10;qc=Ga+y+ra+xa;rc=Ha+ua+Aa+10;sc=Ga+y+ra-xa;tc=Ha+ua-Aa+10;"leftInclined"===Ub?(ub=($a+bb)/2,vb=(ab+cb)/2+15):(ub=($a+bb)/2+15,vb=(ab+cb)/2)}f=$a;c=ab;d=bb;k=cb;m=mc;e=nc;p=oc;l=pc;aa=qc;W=rc;fa=sc;n=tc;
r=ub;q=vb;v=Ma;ma=Na;ha=Oa;H=Pa;x=ec;A=fc;ga=gc;C=hc;oa=ic;B=jc;da=kc;I=lc;sa=fb;G=gb;na=qb;O=rb;S=sb;P=tb;Hb=Vb;Ib=Wb;Jb=Xb;Kb=Yb;Lb=Zb;Mb=$b;Nb=ac;D=bc;R=cc;Z=dc;M(ja+" .hit-pd-euclid-height-line",na,O,S,P);M(ja+" .hit-pd-euclid-height-start",Hb,Ib,Jb,Kb);M(ja+" .hit-pd-euclid-height-end",Lb,Mb,Nb,D);u(ja+" .hit-pd-euclid-height-text",R,Z);M(ja+" .hit-pd-euclid-width-line",v,ma,ha,H);M(ja+" .hit-pd-euclid-width-start",x,A,ga,C);M(ja+" .hit-pd-euclid-width-end",oa,B,da,I);u(ja+" .hit-pd-euclid-width-text",
sa,G);M(ja+" .hit-pd-euclid-length-line",f,c,d,k);M(ja+" .hit-pd-euclid-length-start",m,e,p,l);M(ja+" .hit-pd-euclid-length-end",aa,W,fa,n);u(ja+" .hit-pd-euclid-length-text",r,q);Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(a===Y&&"dimension-ingress-image"===w.getCurrentItem().type?(z(),b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action",
"dimension-hero-click"),h.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-E)):a===T&&(b("ivDimensionTab").css("display","block"),N(b("#iv-euclid"),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),h.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-la)))}});Q("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&R(a===Y,w.getCurrentItem(),null)}function t(a,g){return b(a).text().replace(/[^0-9]/g,"").length*g+5}function M(a,
g,f,c,d){a=b(a)[0];a!==pa&&null!==a&&(a.setAttribute("x1",g),a.setAttribute("y1",f),a.setAttribute("x2",c),a.setAttribute("y2",d))}function u(a,g,f){var c=b(a)[0];c!==pa&&null!==c&&(c.setAttribute("x",g),c.setAttribute("y",f),a=b(a+" tspan"),a!==pa&&null!==a&&2===a.length&&(a[0].setAttribute("x",g),a[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),a[1].setAttribute("x",g),a[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function F(a){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length||
b("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(a=k(a),a in O)Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&O[a].clone().appendTo(b("#imageBlock #main-image-container"));else{var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),O[a]=g):ea(a)}v(Y)}}function ea(a){try{setTimeout(function(){J++;var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(a in O||(O[a]=g),b("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=b("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),v(Y)):100>J&&ea(a)},100)}catch(g){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+g)}}function Q(a){return"true"===b(a).attr("data-should-use-in-hero")}function R(a,g,f){var c=n.colorImages[g.color],d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(c=K(c),U(c,a,g,f)):V(c,a,g,f)}function V(a,g,f,c){try{setTimeout(function(){aa++;
var d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(d=K(a),U(d,g,f,c)):100>aa?V(a,g,f,c):(h.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),d=a[0],U(d,g,f,c))},100)}catch(d){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+d)}}function K(a){for(var g=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),
c=a[0],d=0;d<a.length;d++){var w=a[d];w.variant===g&&(c=w)}c===a[0]&&h.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function U(a,g,f,d){g?((g=W.find(".item.dimensionItemNo"+f.thumbnailIndex))&&g.remove(),g=f.thumbnailIndex,d=G(a,d),f=W.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item dimensionItemNo"+g+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":g+1}),f.find(".placeHolder").replaceWith(d),f.find(".a-declarative").attr("data-action","dimension-hero-click"),W.find(".list").append(f),e.loadImageManually(d),d=g=f,f=ma.css("height"),null!==f&&d.find(".imgTagWrapper").css("height",f),d.addClass("selected"),n.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(n.imgTagWrapperClasses),fa.dispatch("loadMagnifier"),d=g,n.useIV&&c.isDefined(a.hiRes)&&d.css("cursor","pointer"),
e.trigger("dp:image-block:update",a)):(ba(a),N(b("#iv-seller"),b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function ba(a){var g=b("#ivDimensionTab #ivLargeDimensions");if(0<g.find(".imgTagWrapper").length){var c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return D(g,c)}c=b("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var d=b("\x3cimg\x3e");c.html(d);g.append(c);c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",a.hiRes);return D(g,c)}function D(a,
b){var c=a.closest("#ivStageDimensions"),d=c.width(),c={height:"auto","max-height":c.height(),"max-width":d,"text-align":"center"};b.css(c);d=b.closest(".imgTagWrapper");d.css(c);return d}function G(a,g){var d="a-dynamic-image";if(!n.acEnabled){var w;b.each(a.main,function(a,b){c.isDefined(w)||(w=parseFloat(b[1]/b[0])<=parseFloat(n.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=w}var ia=c.getMaxDimensionsOfMainImage(a.main,ma,n),k=ia[0],m=ia[1],ia=b("\x3cdiv\x3e\x3c/div\x3e"),k=
{"max-height":k,"max-width":m};ia.addClass(d).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",a.main);return ia}function p(){b("#image-canvas-caption #canvasCaption").html(n.dimensionIngressAtfData.initial.heroImageCaption)}function k(a){return H(a.color)}function H(a){a=n.colorToAsin[a].asin;a||(a=n.mediaAsin);return a}function C(){b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function z(){null!==b(Y.euclidSvg)&&0!==b(Y.euclidSvg).length?(b("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):R(Y,w.getCurrentItem(),null)}function I(a,b){n.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function A(a){a.action="dimensionIngressClick";a.data=ga;fa.dispatch("dimensionIngressClick",a)}function B(){la=Date.now();
if(na&&!b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var a=k(w.getCurrentItem()),c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c=b("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",c);a in O?O[a].clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")):(c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c.length?(c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),
O[a]=c):ca(a));r.populateTitle(b("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,n);r.populateVariationSelection(b("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));da();na=!1;a=b("#iv-tab-view-container").find("#ivThumbsDimensions");a.find(".ivRow").not(".placeholder").remove();var c=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a),d=0<b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,
m=0<b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var ia=n.colorImages[w.getCurrentItem().color],ia=K(ia);ba(ia);b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}S(a,c,ia.thumb,b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),
"iv-seller")}m&&(ia=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),S(a,c,ia,b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}Z()}function Z(){oa=b("#ivDimensionTab").height();if(0!==oa){r.detachImmersiveViewResizeHandler(B);var a=b("#ivDimensionTab #ivMainDimensions"),c=b("#ivDimensionTab").height(),d=b("#ivDimensionTab").width();a.css("height",c);a.css("width",d);var d=a.find("#ivTitleDimensions").outerHeight(!0),
w=a.find("#ivVariationSelectionDimensions").outerHeight(!0),k=a.find("#ivThumbsDimensions"),m=r.getDimension(k,"margin-top")+r.getDimension(k,"margin-bottom");k.css("height",c-d-w-m);d=a.find("#ivStageDimensions");a=(a[0]&&a[0].getBoundingClientRect&&Math.floor(a[0].getBoundingClientRect().width)||a.width())-r.getDimension(a,"padding-left")-r.getDimension(a,"padding-right")-a.find("#ivThumbColumnDimensions").width()-r.getDimension(d,"margin-left")-r.getDimension(d,"margin-right");d.css("width",a);
d.css("height",c);v(T)}}function S(a,b,c,d,w){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:w}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(c)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");l(a,d)}function l(a,b){a.click(function(){N(a,b)})}function N(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&D(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");
b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function ca(a){try{setTimeout(function(){d++;var c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(a in O||(O[a]=c),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),Z()):100>d&&ca(a)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+
c)}}function q(a,d){m&&clearTimeout(m);"mouseenter"===d.type&&(m=setTimeout(function(){F(a);b("#image-canvas-caption #canvasCaption").empty();p();I(ha,d)},c.getHoveringDelayTimer()));"mouseleave"===d.type&&p()}var x,n,w,fa,ha,W,ma,ga,na=!0,E,la,m,P,O={},J=0,d=0,aa=0,oa,Y={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},T={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},da=e.once(function(){r.attachImmersiveViewResizeHandler(B)});e.on.resize(function(){Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
v(Y)});return function(a,g,f,m){x=this;n=a;w=g;fa=m;a=n.mediaAsin;g=[];n&&n.dimensionIngressAtfData&&n.dimensionIngressAtfData.initial&&(g=n.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(a,n.dimensionIngressEnabled,g);x.render=function(a,g,f,m,e,h){ha=m;W=2!==n.unrolledImageBlockTreatment&&3!==n.unrolledImageBlockTreatment?f:b(".unrolledScrollBox");ma=e;na=!0;b("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
b("#ivDimensionTab #ivLargeDimensions").empty();d=J=0;f=k(w.getCurrentItem());if(c.isDimensionIngressEnabled(f)&&n.dimensionIngressThumbURL&&n.dimensionIngressThumbURL.initial&&n.dimensionIngressThumbURL.initial.length){f=c.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){e=n.colorImages[a];h=m.find(".item.imageThumbnail");for(var p=0;p<h.length&&p<n.maxAlts-1;p++){var l=
e[p].variant;"MAIN"!=l&&f.includes(l)&&(l=h.eq(p))&&(l.remove(),g--)}}g===n.maxAlts&&(m.find(".item.imageThumbnail").last().remove(),g--);ga={type:"dimension-ingress-image",index:0,thumbnailIndex:g,variant:"Main"};c.createThumbnail(ga,n.dimensionIngressThumbURL.initial,m,"dimension-ingress-imageblock-thumbnail");m=n.dimensionIngressAtfData.initial.thumbnailCaption;m=b("\x3cspan /\x3e").html(m);m.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");m.attr("id","dimensionCaption");
b(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");b(".dimension-ingress-imageblock-thumbnail").append(m);g++;b("#ivDimensionTabHeading").removeClass("aok-hidden");H(a)!==n.mediaAsin&&0===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&b("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return g}b("#ivDimensionTabHeading").addClass("aok-hidden")};x.update=function(a){var d=a.data;w.setCurrentEvent(a);"dimension-ingress-image"===
d.type?(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&(E=Date.now(),h.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?q(d,a):(F(d),b("#image-canvas-caption #canvasCaption").empty(),p(),I(ha,a)),"click"===a.type&&c.useTabbedImmersiveView(n)&&(A(a),h.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===a.type?d.color===w.getCurrentItem().color&&"dimension-ingress-image"===w.getCurrentItem().type?z():C():c.isImageBlockGridViewHoverDelayEnabled()?
(w.setToPreviousItem(),"mouseenter"===a.type&&(P&&clearTimeout(P),P=setTimeout(function(){w.setToCurrentItem(d);C()},c.getHoveringDelayTimer())),"mouseleave"===a.type&&P&&clearTimeout(P),"click"===a.type&&(w.setToCurrentItem(d),C())):C()};r.attachTabSelectHandler("ivDimensionTab",B);e.declarative("dimension-hero-click",["click"],A)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,b,c,r,h){function sa(){h.populateTitle(k.find("#ivTitle"),
160,G)}function v(){var b=p.getCurrentItem().color;C=G.colorImages[b];H=G.heroImage[b];z=I=0;c.isDefined(H)&&(z=H.length);c.isDefined(C)&&(I=C.length)}function t(b){return b.hiRes||b.large||b.main[b.main.length-1]}function M(){var b=k.find("#ivStage").find("#ivLargeImage"),c=b.width(),p=b.height(),e=b.find(".fullscreen");e.removeAttr("style");var h=e.width(),n=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(n=e[0].naturalHeight));b.css("cursor","auto");var h=
0===h?1:h,n=0===n?1:n,r=Math.min(c/h,p/n),q=n*r,v=h*r;1>r?(B?b.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),l=!0):l=!1;h=Math.min(v,h);n=Math.min(q-20,n);e.css({"margin-top":(p-n)/2,"margin-left":(c-h)/2,height:n,width:h});b.css("visibility","visible");S=!1}function u(b){var c=k.find("#ivLargeImage");c.css("visibility","hidden");c.empty();h.animateStageIn(c);c.append(b);M()}function F(w){k.find("#ivLargeImage").css("display",
"none");k.find("#ivLargeImage").css("display","block");var p;"hero-image"===w?c.isDefined(H)&&(p=t(H[A.index])):c.isDefined(C)&&(p=t(C[A.index]));if(c.isDefined(p)){k.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",p).addClass("fullscreen"),n=k.find("#ivLargeImage");h.animateStageOut(n,function(){l.load(function(){u(l);e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index)});if(l[0].complete)u(l),e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index);else{n.empty();
var c=(n.height()-104)/2,k=(n.width()-80)/2;b("\x3cimg\x3e").attr("src",G.staticImages.spinner).css({position:"relative",top:c+"px",left:k+"px"}).appendTo(n)}})}}function D(b){k.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivHeroImage")?A.type="hero-image":A.type="image";A.index=b.attr("id").split("_")[1];F(A.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(A.index,10)+1)+"_"+(z+I))}function Q(){k.delegate(".ivThumb","click",function(){var c=b(this);D(c)})}function R(b,
c){return 0<c?c/2:Math.min(0,Math.max(c,b))}function V(b){var c=ca.top-(b.pageY-x[1])*q;b=R(ca.left-(b.pageX-x[0])*q,N.left);c=R(c,N.top);k.find(".fullscreen").css({left:b,top:c})}function K(){k.delegate("#ivLargeImage","click",function(b){if(S)M();else if(l){k.find(".fullscreen").removeAttr("style");if(l){var c=k.find("#ivLargeImage"),e=c.find(".fullscreen");B?c.css("cursor","url('"+G.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor",
"zoom-out"));S=!0;var h=k.find("#ivLargeImage");N.left=h.width()-e.width();N.top=h.height()-e.height();var h=c.height()/2,p=c.width()/2;x=[c.offset().left+p,c.offset().top+h];ca.top=h-e.height()/2;ca.left=p-e.width()/2;e.css({position:"relative",left:ca.left,top:ca.top});q=Math.max(e.height()/c.height(),e.width()/c.width())}V(b);r.postCountMetric("dpcc_iv_largeImageCLick")}});k.delegate("#ivLargeImage","mousemove",function(b){S&&V(b)})}function U(){k.find("#ivLargeImage").empty()}function ba(e){if(Z){k=
b("#ivMain");v();A=p.getCurrentItem();sa();h.populateVariationSelection(k.find("#ivVariationSelection"));e=k.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();var l=z+I,r=!1;G&&G.dimensionIngressAtfData&&G.dimensionIngressAtfData.initial&&(r=G.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var q=0,t=0;q<l;)for(var x=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),B=0;4>B&&q<l;B++,q++,t++)if(t<z){var E=H[q].thumb,u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
q,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":q+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}else if(t>=z&&t<I+z){E=G.colorToAsin[p.getCurrentItem().color].asin;E||(E=G.mediaAsin);if((u=c.isDimensionIngressEnabled(E))&&r){if((E=c.getDimensionVariantList(E))&&E.includes(C[q-z].variant)){B--;continue}}else if(u&&"DIMN"===C[q-z].variant){B--;
continue}E=C[q-z].thumb;u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(q-z),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":q-z+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}n();Z=!1}else sa();e=b("#ivImagesTab").height();k.css("height",e);l=k.find("#ivTitle").outerHeight(!0);r=k.find("#ivVariationSelection").outerHeight(!0);
q=k.find("#ivThumbs");t=h.getDimension(q,"margin-top")+h.getDimension(q,"margin-bottom");q.css("height",e-l-r-t);k.find("#ivLargeImage").css("height",e);e=k.find("#ivStage");l=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();e.css("width",l-h.getDimension(k,"padding-left")-h.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-h.getDimension(e,"margin-left")-h.getDimension(e,"margin-right"));A=p.getCurrentItem();e="hero-image"===A.type?k.find("#ivHeroImage_"+
A.index):"image"===A.type?k.find("#ivImage_"+A.index):c.isDefined(H)?k.find("#ivHeroImage_"+A.index):k.find("#ivImage_"+A.index);c.isjQueryObjDefined(e)||(e=k.find("#ivImage_0"));D(e)}var ka,G,p,k,H,C,z,I,A,B=navigator.userAgent.match(/msie|trident/i),Z=!0,S=!1,l=!1,N={},ca={},q,x,Z=!0,n=e.once(function(){Q();K();h.attachImmersiveViewResizeHandler(ba);h.attachTabDeselectHandler("ivImagesTab",U)});return function(c,e,k,l){ka=this;G=c;p=e;ka.render=function(c,e,k,l,p,m){Z=!0;v();0===z+I?h.hideTabHeading("ivImagesTabHeading"):
h.unhideTabHeading("ivImagesTabHeading");1===z+I?b("#ivThumbs").hide():b("#ivThumbs").show()};ka.update=function(b){};h.attachTabSelectHandler("ivImagesTab",ba)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,b,c,r,h,sa,v){function t(){var c=Q.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),k=c.find(".a-popover-inner"),c=c.height()-
v.getDimension(k,"padding-top")-v.getDimension(k,"padding-bottom");b("#iv-tab-view-container").css("height",c);K=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<K?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),k=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=k):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",c);e.trigger("dp:image-block:immersive-view:resize")}
function M(){e.trigger("dp:image-block:immersive-view:reset")}function Ba(p){if(c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color))if(ba){var k=p.$event.originalEvent;k.acknowledge&&k.acknowledge(p.$currentTarget[0]);h.isEnabled&&sa.logImmersiveViewRequestServed(h);r.postCountMetric("dppc_immersiveViewOpened");c.isDefined(p)&&("button-360-click"===p.action?b("#iv360TabHeading").click():"videoIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===
p.action?(U=p.clickTimeStamp,b("#ivShowroomTabHeading").click()):"dimensionIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivDimensionTabHeading").click()):b("#ivImagesTabHeading").click());k=Q.getImmersiveViewModalInstance();if(c.isDefined(k))k.show();else{p=b("#auiImmersiveViewDiv");var k=Math.min(Math.max(b(u).height()-150,540),1080),t=Math.min(Math.max(b(u).width()-75,990),1980),k=ba.create(p,{name:"immersiveView",activate:"onclick",width:t,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});
Q.setImmersiveViewModalInstance(k);p.click()}V&&(V=!1,ka(),e.trigger("dp:image-block:immersive-view:init"))}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var F,ea,Q,R,V=!0,K=0,U,ba;D.when("a-modal").execute(function(b){ba=b});var ka=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",t);e.on("a:popover:afterShow:immersiveView",
t);e.on("a:popover:afterHide:immersiveView",M)}),G=e.once(function(){var c=b("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(k){var h=c.filter(".iv-active");h.attr("id")!==b(this).attr("id")&&e.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",k);c.removeClass("iv-active");b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();h=b(this).find("a").attr("data-iv-tab-view");b("#"+h).show();"ivVideosTab"===h&&(k.clickTimeStamp=U||k.timeStamp);
e.trigger("dp:ivTabs:"+h+":select",k);r.postCountMetric("dppc_"+h);return!1})});return function(b,k,t,v){F=this;ea=b;Q=k;h.refToModel=Q;R=v;F.render=function(b,c,e,h,k,p){r.postCountMetric("dpcc_altThumbs_"+c);V=!0};F.update=function(b){};F.getTitle=function(){};F.getVariationSelectionInfo=function(){};G();c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");R.register("imageClick",Ba);R.register("button360Click",Ba);ea.collapsibleThumbnails&&e.declarative("thumb-action",
["click"],function(b){b.$declarativeParent.hasClass("overlayRestOfImages")&&Ba(b)});c.useTabbedImmersiveView(ea)&&(R.register("videoIngressClick",Ba),R.register("showroomIngressClick",Ba),R.register("dimensionIngressClick",Ba))}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,b,c,r,h,sa,v,t){function M(a){return a.hiRes||a.large||a.main[a.main.length-
1]}function Ba(){d.find("#ivTitle").click(function(){J.hide()})}function F(){f=Fb?{type:"360-spin"}:P.getCurrentItem()}function ea(){var a=d.find("#ivStage"),b=J.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-t.getDimension(c,"padding-top")-t.getDimension(c,"padding-bottom");d.css("height",b);var c=d.find("#ivTitle").outerHeight(!0),g=d.find("#ivVariationSelection").outerHeight(!0),e=d.find("#ivMediaSelection").outerHeight(!0),f=d.find("#ivThumbs"),h=t.getDimension(f,
"margin-top")+t.getDimension(f,"margin-bottom");f.css("height",b-c-g-e-h);d.find("#ivLargeImage").css("height",b);a.css("width",d.width()-t.getDimension(d,"padding-left")-t.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function Q(){d.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&
d.find("#ivVideo_"+f.index).click()):"images"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===da&&0===T?d.find("#iv360").click():0===da?d.find("#ivHeroImage_0").click():d.find("#ivImage_0").click())):"videos"===a&&(d.find("#ivVideoList").show(),d.find("#ivThumbs").hide(),"chromeful-video"!==f.type?d.find("#ivVideoList_0").click():d.find("#ivVideoList_"+f.index).click())})}function R(){var a=d.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var f=g.width(),e=g.height();0<g.length&&(g[0].naturalWidth&&(f=g[0].naturalWidth),g[0].naturalHeight&&(e=g[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,e=0===e?1:e,h=Math.min(b/f,c/e),k=e*h,l=f*h;1>h?(Gb?a.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),kb=!0):kb=!1;f=Math.min(l,f);e=Math.min(k-20,e);g.css({"margin-top":(c-
e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");jb=!1}function V(a){var b=d.find("#ivLargeImage");b.css("visibility","hidden");b.empty();t.animateStageIn(b);b.append(a);R()}function K(){L&&L.pause();d.find("#ivLarge360").css("display","none");d.find("#ivLargeVideo").css("display","none");d.find("#ivLargeImage").css("display","none");H()}function U(a){K();d.find("#ivLargeImage").css("display","block");var g;"hero-image"===a?c.isDefined(aa)&&(g=M(aa[f.index])):c.isDefined(oa)&&
(g=M(oa[f.index]));if(c.isDefined(g)){d.find(".fullscreen").remove();var e=b("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),h=d.find("#ivLargeImage");t.animateStageOut(h,function(){e.load(function(){V(e)});if(e[0].complete)V(e);else{h.empty();var a=(h.height()-104)/2,c=(h.width()-80)/2;b("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(h)}})}}function ba(){var a=parseInt(f.index,10)+1;a>=Y.length||d.find("#ivVideo_"+a).click()}function ka(){var a;
c.isDefined(Y)&&(a=Y[f.index]);if(c.isDefined(a)){K();var b=d.find("#ivLargeVideo").css("display","block");L?(L.isDetached()&&L.attach(b[0]),c.loadMediaIntoAiry(L,a,ia,m.tabletWeb),L.show()):(L=c.createAiryInstanceForChromeful(b,a,ia,"ImmersiveView"),ia.enableContinuousPlay&&L.bind("ended",ba));L.play({isAsync:!0})}}function G(){F();var a;a="hero-image"===f.type?d.find("#ivHeroImage_"+f.index):"image"===f.type?d.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?d.find("#ivVideo_"+
f.index):"360-spin"===f.type?d.find("#iv360"):c.isDefined(aa)?d.find("#ivHeroImage_"+f.index):d.find("#ivImage_"+f.index);c.isjQueryObjDefined(a)||(a=d.find("#ivImage_0"));p(a)}function p(a){d.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],ka()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],U(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,k()):
(f.type="image",f.index=a.attr("id").split("_")[1],U(f.type))}function k(){K();d.find("#ivLarge360").css("display","block");B();var a=d.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);z();h.postCountMetric("dppc_click360");Ta=Date.now()}function H(){0<Ta&&(C("dppc_duration360",Date.now()-Ta),Ta=0)}function C(a,b){u.ue&&u.ue.count(a,b)}function z(){if(0<Ca){var a=d.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}
function I(a,c){if(Ca<a.length){var g=b("\x3cimg /\x3e").css({display:"block",width:6*ya+"px",height:Qa+"px"});g.hide();c.append(g);g.get(0).onload=function(){c.closest(document.documentElement).length&&(Ca++,1===Ca&&(z(),0<Ta&&C("dppc_loadTime360",Date.now()-Ta)),0<Ab&&C("dppc_perSpriteloadTime360",Date.now()-Ab),d.find("#iv360Spinner").hide(),g.show(),db=5*X.imageLocations[Math.floor(eb/X.imageLocations[0].length)][eb%X.imageLocations[0].length],I(a,c))};g.attr("src",a[Ca].replace(/(\._SP)\d+(,)\d+/,
"$1"+Sa+"$2"+Ra));Ab=Date.now()}}function A(a){if(c.isDefined(X.spriteWidthSizes)&&0<X.spriteWidthSizes.length){var b=X.spriteWidthSizes,d=b.length,g=b[0],e=b[d-1];if(a<=g)return g;if(a>e)return e;for(g=0;g<d;g++)if(a>b[g]&&a<=b[g+1])return b[g+1]}else return a}function B(){var a=d.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",m.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),yb=!0,Z())}function Z(){if(c.isDefined(X.spriteURLs)&&c.isDefined(d)&&yb&&!zb){var a=d.find("#ivLarge360"),g=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});c.isDefined(X.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",X.staticImages.hint360).appendTo(g);b("\x3cdiv\x3e").css({"text-align":"center"}).text(m.staticStrings.dragToSpin).appendTo(g);g.appendTo(a);var g=X.imageWidth,e=X.imageHeight,f=a.parent().width(),h=a.parent().height(),k=0,n=0;g/e>f/h?(Sa=A(f),Ra=Math.round(e/g*Sa),ya=Math.ceil(f),Qa=Math.ceil(Ra/Sa*f),n=(h-Qa)/2):(Ra=A(h),Sa=Math.round(g/e*Ra),Qa=Math.ceil(h),
ya=Math.ceil(Sa/Ra*h),k=(f-ya)/2);a.css({"margin-left":k,"margin-top":n,width:ya+"px",height:Qa+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*ya+"px");I(X.spriteURLs,d.find("#image-360-sprites"),0);g=d.find("#ivLarge360");g.bind("mousedown",ca);g.bind("touchstart",S);g.bind("touchmove",l);g.bind("touchend",N);b(document).bind("mousemove",q);b(document).bind("mouseup",x);c.isDefined(m.staticImages.grab)&&a.css("cursor","url('"+m.staticImages.grab+"'), auto");
zb=!0}}function S(a){ib=!0;xb=a.originalEvent.targetTouches[0].clientX}function l(a){ib&&(n(a.originalEvent.targetTouches[0].clientX-xb),xb=a.originalEvent.targetTouches[0].clientX)}function N(a){ib&&(ib=!1)}function ca(a){hb=!0;wb=a.originalEvent.clientX;c.isDefined(m.staticImages.grabbing)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+m.staticImages.grabbing+"'), auto"));return!1}function q(a){hb&&(n(a.originalEvent.clientX-
wb),wb=a.originalEvent.clientX)}function x(a){hb&&(hb=!1,c.isDefined(m.staticImages.grab)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function n(a){for(a=db-=a/ya*180;0>a;)a+=360;for(;360<a;)a-=360;db=a;var b;a=360;for(var g=0;g<Ca;g++)for(var e=0;e<X.imageLocations[g].length;e++){var f=Math.abs(db-5*X.imageLocations[g][e]);f<a&&(a=f,b=g*X.imageLocations[0].length+e)}b!==eb&&(a=Math.floor(b/X.imageLocations[0].length),
a!==Math.floor(eb/X.imageLocations[0].length)&&(c.isDefined(Bb)||(Bb=document.createElement("canvas").getContext("2d")),g=d.find("#image-360-sprites").children(),Bb.drawImage(g[a],0,0)),a=d.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));eb=b;a=b%X.imageLocations[0].length*-1*ya;b=-1*Math.floor(b/X.imageLocations[0].length)*Qa;g=d.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+
b+"px, 0)");g.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function w(){d.delegate(".ivThumb","click",function(){var a=b(this);p(a)});d.delegate(".ivThumbVideoListOuter","click",function(){d.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");f.type="chromeful-video";f.index=a.attr("id").split("_")[1];ka()})}function fa(){L&&!L.isDetached()&&(ia.volume=L.getVolume(),L.detach(),!document.all||u.atob||document.addEventListener||(L=null));d.find("#ivLargeImage").empty();
H()}function ha(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function W(a){var c=Da.left-(a.pageX-nb[0])*mb;e.capabilities.rtl&&(c=Da.left-(b(u).width()-a.pageX-nb[0])*mb);a=Da.top-(a.pageY-nb[1])*mb;c=ha(c,lb.left);a=ha(a,lb.top);d.find(".fullscreen").css({left:c,top:a})}function ma(){d.delegate("#ivLargeImage","click",function(a){if(jb)R();else if(kb){d.find(".fullscreen").removeAttr("style");if(kb){var b=d.find("#ivLargeImage"),c=b.find(".fullscreen");Gb?b.css("cursor","url('"+m.staticImages.zoomOut+
"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));jb=!0;var g=d.find("#ivLargeImage");lb.left=g.width()-c.width();lb.top=g.height()-c.height();var g=b.height()/2,e=b.width()/2;nb=[b.offset().left+e,b.offset().top+g];Da.top=g-c.height()/2;Da.left=e-c.width()/2;c.css({position:"relative",left:Da.left,top:Da.top});mb=Math.max(c.height()/b.height(),c.width()/b.width())}W(a)}});d.delegate("#ivLargeImage","mousemove",function(a){jb&&W(a)})}function ga(f){if(c.isImmersiveViewEnabled(m,
P.getCurrentItem().color))if(Db){var k=f.$event.originalEvent;k.acknowledge&&k.acknowledge(f.$currentTarget[0]);Fb=c.isDefined(f)&&"button-360-click"===f.action;sa.isEnabled&&v.logImmersiveViewRequestServed(sa);h.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(J))J.show();else{f=b("#auiImmersiveViewDiv");var k=b(u).height()-150,l=b(u).width()-75;J=Db.create(f,{name:"immersiveView",activate:"onclick",width:l,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Cb){d=b("#ivMain");
f=P.getCurrentItem().color;oa=m.colorImages[f];aa=m.heroImage[f];Y=m.useChildVideos?m.colorToVideo[f]:m.videos;Eb=E()&&m.spin360ColorEnabled[f];X=E()?m.spin360ColorData[f]:pa;F();g=T=a=da=0;c.isDefined(aa)&&(T=aa.length);c.isDefined(oa)&&(da=oa.length);c.isDefined(Y)&&(a=Y.length);Eb&&(g=1);t.populateTitle(d.find("#ivTitle"),45,m);t.populateVariationSelection(d.find("#ivVariationSelection"));f=d.find("#ivMediaSelect");0===da+g||0===a?(f.parent().hide(),d.find("#ivThumbs").addClass("noMediaSelection")):
(f.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(m.staticStrings.allMedia+" ("+(T+da+g+a)+")").appendTo(f),b("\x3coption/\x3e").attr("value","images").text(m.staticStrings.images+" ("+(T+da+g)+")").appendTo(f),b("\x3coption/\x3e").attr("value","videos").text(m.staticStrings.videos+" ("+a+")").appendTo(f),f.parent().show(),f.val("all"));f=d.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var k=T+da+a+g,n=l=0;l<k;)for(var p=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),
q=0;3>q&&l<k;q++,l++,n++)if(n<T){var r=aa[l].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(p);L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+'") center no-repeat')}else if(n>=T&&n<da+T)r=oa[l-T].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(l-T)).appendTo(p),L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+
'") center no-repeat');else if(n>=T+da&&n<da+T+g)L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),L.find(".ivThumbImage").css("background",'url("'+(c.isDefined(m.staticImages.icon360)?t.getResizedThumbnailURL(m.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=Y[l-da-T-g],L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(l-da-T-g)).appendTo(p),L.find(".ivThumbImage").css("background",
'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var w={position:"triggerTop"},x=d.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(r.title);x.find(".ivVideoPopoverDuration").text(r.durationTimestamp);w.inlineContent=x[0];e.declarative.create(L,"a-tooltip",w)}f=d.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();k=f.find(".placeholder");for(l=0;l<a;l++)n=Y[l],p=k.clone().removeClass("placeholder").appendTo(f),
p.attr("id","ivVideoList_"+l),p.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(n.title),p.find(".ivThumbDuration").text(n.durationTimestamp);d.find("#ivLarge360").empty();Ca=0;zb=yb=!1;ia=m.airyConfig;Cb=!1;vc()}}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}function na(a){var b=
m.colorToAsin[a],g={},f=500;if(b&&b.asin){g.params={asin:b.asin};var d="360"+b.asin,e=Date.now();g.success=function(b){C("dppc_asyncRequestTime360",Date.now()-e);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(d,"success"),m.spin360ColorData[a]=b.spin360.spin360Model,a===P.getCurrentItem().color&&(X=m.spin360ColorData[a],Z())):g.error()};g.error=function(){h.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-e);f*=2;16E3>=f?setTimeout(function(){e=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",
g)},f):c.ajaxState(d,"fail")};c.ajaxState(d)&&"fail"!==c.ajaxState(d)||(r.load("/gp/product/features/apparel-main-image/360.html",g),c.ajaxState(d,"sent"))}}function E(){return c.isDefined(m.spin360ConfigEnabled)&&m.spin360ConfigEnabled}var la,m,P,O,J,d,aa,oa,Y,T,da,a,g,f,L,ia,X,Eb,ya,Qa,Ra,Sa,wb,xb,Fb=!1,yb=!1,zb=!1,db=0,eb=0,Ta=0,Ab=0,hb=!1,ib=!1,Ca=0,Bb,Gb=navigator.userAgent.match(/msie|trident/i),Cb=!0,jb=!1,kb=!1,lb={},Da={},mb,nb,Db;D.when("a-modal").execute(function(a){Db=a});var vc=e.once(function(){Q();
w();ma();e.on("a:popover:afterUpdatePosition:immersiveView",ea);e.on("a:popover:afterShow:immersiveView",G);e.on("a:popover:afterHide:immersiveView",fa);Ba()});return function(a,g,f,d){la=this;m=a;P=g;sa.refToModel=P;O=d;E()&&(m.spin360ColorData[m.landingAsinColor]=m.spin360ColorData[m.defaultColor],m.spin360ColorEnabled[m.landingAsinColor]=m.spin360ColorEnabled[m.defaultColor]);c.isDefined(m.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
t.addStyleCodeToURL(m.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,b,g,f,d,k){Cb=!0;E()&&m.spin360ColorEnabled[a]&&!c.isDefined(m.spin360ColorData[a])&&(m.spin360ColorData[a]={},na(a));c.isImmersiveViewEnabled(m,P.getCurrentItem().color)&&E()&&m.spin360ColorEnabled[a]&&(b===m.maxAlts&&(a=f.find(".item.imageThumbnail"),g=f.find(".item.videoThumbnail"),c.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
e.declarative.create(a,"button-360-click"),f.append(a),b++,h.postCountMetric("dppc_display360"));return b};la.update=function(a){};c.isImmersiveViewEnabled(m,P.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");O.register("imageClick",ga);O.register("button360Click",ga)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(e,b,c,r,h,u,v,t,M){function D(){var a=b("#iv360Tab").height();q.css("height",a);var c=q.find("#ivTitle360").outerHeight(!0),f=q.find("#ivVariationSelection360").outerHeight(!0),d=q.find("#ivThumbs360"),e=v.getDimension(d,"margin-top")+v.getDimension(d,"margin-bottom");d.css("height",a-c-f-e);a=q.find("#ivStage360");c=q[0]&&q[0].getBoundingClientRect&&Math.floor(q[0].getBoundingClientRect().width)||q.width();a.css("width",c-v.getDimension(q,"padding-left")-v.getDimension(q,"padding-right")-
q.find("#ivThumbColumn360").width()-v.getDimension(a,"margin-left")-v.getDimension(a,"margin-right"))}function F(){V();var a=q.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);ea()}function ea(){if(0<d){var a=q.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function Q(a,c){if(d<a.length){var f=b("\x3cimg /\x3e").css({display:"block",width:6*n+"px",height:w+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&
(d++,1===d&&(ea(),0<m&&(h.time("dppc_loadTime360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_loadTime360",Date.now()-m))),0<P&&(h.time("dppc_perSpriteloadTime360",Date.now()-P,l.mediaAsin),u.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-P)),q.find("#iv360Spinner").hide(),f.show(),E=5*x.imageLocations[Math.floor(la/x.imageLocations[0].length)][la%x.imageLocations[0].length],Q(a,c))};f.attr("src",a[d].replace(/(\._SP)\d+(,)\d+/,"$1"+ha+"$2"+fa));P=Date.now()}}function R(a){if(c.isDefined(x.spriteWidthSizes)&&
0<x.spriteWidthSizes.length){var b=x.spriteWidthSizes,d=b.length,e=b[0],h=b[d-1];if(a<=e)return e;if(a>h)return h;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function V(){var a=q.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",l.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ga=!0,K())}function K(){if(c.isDefined(x.spriteURLs)&&c.isDefined(q)&&ga&&!na){var a=q.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(x.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",x.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(l.staticStrings.dragToSpin).appendTo(d);d.appendTo(a);var d=x.imageWidth,f=x.imageHeight,e=a.parent().width(),h=a.parent().height(),m=0,aa=0;d/f>e/h?(ha=R(e),fa=Math.round(f/d*ha),n=Math.ceil(e),w=Math.ceil(fa/ha*e),aa=(h-w)/2):(fa=R(h),ha=Math.round(d/f*fa),w=Math.ceil(h),n=Math.ceil(ha/fa*h),m=(e-n)/2);a.css({"margin-left":m,"margin-top":aa,width:n+"px",height:w+
"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*n+"px");Q(x.spriteURLs,q.find("#image-360-sprites"),0);d=q.find("#ivLarge360");d.bind("mousedown",G);d.bind("touchstart",U);d.bind("touchmove",ba);d.bind("touchend",ka);b(document).bind("mousemove",p);b(document).bind("mouseup",k);c.isDefined(l.staticImages.grab)&&a.css("cursor","url('"+l.staticImages.grab+"'), auto");na=!0}}function U(a){J=!0;ma=a.originalEvent.targetTouches[0].clientX}function ba(a){J&&(H(a.originalEvent.targetTouches[0].clientX-
ma),ma=a.originalEvent.targetTouches[0].clientX)}function ka(a){J&&(J=!1)}function G(a){O=!0;W=a.originalEvent.clientX;c.isDefined(l.staticImages.grabbing)&&(a=q.find("#ivLarge360"),a.css("cursor","url('"+l.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+l.staticImages.grabbing+"'), auto"));return!1}function p(a){O&&(H(a.originalEvent.clientX-W),W=a.originalEvent.clientX)}function k(a){O&&(O=!1,c.isDefined(l.staticImages.grab)&&(a=q.find("#ivLarge360"),a.css("cursor",
"url('"+l.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function H(a){E-=a/n*180;oa&&(h.count("dppc_360dragToSpin",l.mediaAsin),u.postCountMetric("dppc_360dragToSpin"));oa=!1;for(a=E;0>a;)a+=360;for(;360<a;)a-=360;E=a;var b;a=360;for(var f=0;f<d;f++)for(var e=0;e<x.imageLocations[f].length;e++){var k=Math.abs(E-5*x.imageLocations[f][e]);k<a&&(a=k,b=f*x.imageLocations[0].length+e)}b!==la&&(a=Math.floor(b/x.imageLocations[0].length),a!==Math.floor(la/x.imageLocations[0].length)&&
(c.isDefined(aa)||(aa=document.createElement("canvas").getContext("2d")),f=q.find("#image-360-sprites").children(),aa.drawImage(f[a],0,0)),a=q.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));la=b;a=b%x.imageLocations[0].length*-1*n;b=-1*Math.floor(b/x.imageLocations[0].length)*w;f=q.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+
"px, "+b+"px, 0)")}function C(){if(T){q=b("#ivMain360");var a=N.getCurrentItem().color;I()&&A(a);x=I()?l.spin360ColorData[a]:pa;v.populateTitle(q.find("#ivTitle360"),160,l);v.populateVariationSelection(q.find("#ivVariationSelection360"));q.find("#ivLarge360").empty();d=0;na=ga=!1;la=E=0;da();T=!1}0!==b("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(C),D(),F(),m=Date.now(),Y=oa=!0,h.count("dppc_click360",l.mediaAsin),u.postCountMetric("dppc_click360"))}function z(a,b,d){a=l.colorToAsin[d];
var e={},k=500;if(!a||!a.asin)if(d===l.defaultColor)a={asin:l.winningAsin};else return;e.params={asin:a.asin};var m="360"+a.asin,n=Date.now();e.success=function(a){h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&t.setData(a),c.ajaxState(m,"success")):e.error()};e.error=function(){h.count("dppc_asyncFailedTransient360",l.mediaAsin);u.postCountMetric("dppc_asyncFailedTransient360");
h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);k*=2;16E3>=k?setTimeout(function(){n=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",e)},k):(h.count("dppc_asyncFailed360",l.mediaAsin),u.postCountMetric("dppc_asyncFailed360"),c.ajaxState(m,"fail"))};c.ajaxState(m)&&"fail"!==c.ajaxState(m)||(r.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(m,"sent"))}function I(){return l&&c.isDefined(l.spin360ConfigEnabled)&&
l.spin360ConfigEnabled}function A(a){return c.isDefinedAndNotEmpty(l.spin360ColorData[a])?!0:c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled}function B(){Y&&(h.time("dppc_duration360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_duration360",Date.now()-m),Y=!1)}function Z(a){a=l.colorToAsin[a.color]&&l.colorToAsin[a.color].asin;a||(a=l.mediaAsin);return a}var S,l,N,ca,q,x,n,w,fa,ha,W,ma,ga=!1,na=!1,E=0,la=0,m=0,P=0,O=!1,J=!1,d=0,aa,oa=!0,Y=!1,T=!0,da=e.once(function(){v.attachImmersiveViewResizeHandler(C);
v.attachImmersiveViewResizeHandler(D);v.attachImmersiveViewResetHandler(B);v.attachTabDeselectHandler("iv360Tab",B)});return function(a,d,f,k){S=this;l=a;N=d;ca=k;a=l.landingAsinColor;d=l.defaultColor;c.isDefined(l.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(l.staticImages.icon360,"_FMpng_RI_"));I()&&(l.spin360ColorData||(l.spin360ColorData={}),a===d&&c.isDefinedAndEmpty(l.spin360ColorData[d])&&delete l.spin360ColorData[d]);
e.on(M.TWISTER_DATA_EVENT,function(a){Z(N.getCurrentItem())===a&&(x=t.getData(a),K(),a={type:"updatedData",data:N.getCurrentItem()},ca.dispatch("updateView",a))});S.render=function(a,d,f,g,k,m){T=!0;!I()||c.isDefinedAndEmpty(l.spin360ColorData[a])&&!t.getData(Z(N.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(l.spin360ColorData[a]=t.getData(Z(N.getCurrentItem())),c.isDefinedAndNotEmpty(l.spin360ColorData[a])?(b("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(l,
N.getCurrentItem().color)&&I()&&A(a)&&(d===l.maxAlts&&(a=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove()),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),g.append(a),h.count("dppc_display360",l.mediaAsin),u.postCountMetric("dppc_display360"))):c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled?(l.spin360ColorData[a]=
{},v.hideTabHeading("iv360TabHeading"),z(g,d,a)):v.hideTabHeading("iv360TabHeading"))};S.update=function(a){};v.attachTabSelectHandler("iv360Tab",C)}});D.register("nexusLogger360",function(){return{count:function(e,b){u.ue&&u.ue.event({asin:b,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,b,c){u.ue&&u.ue.event({asin:c,metricName:e,metricValue:b},"hit-360","hit360.clientEvent.3")}}});D.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
D.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,b){var c={};return{setData:function(r){var h=r.asin;c[h]||(c[h]=r,e.trigger(b.TWISTER_DATA_EVENT,h))},getData:function(b){return c[b]}}});"use strict";D.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function b(){this.render=function(){};this.update=function(){}}return function(c,r,h,u){var v=!1,t=new b;D.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==
pa&&(v=!0,t=new b(c,r,h,u))});c&&!0===c.showroomEnabled&&!1===v&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,b,c,r,h,D,v){function t(){z.delegate(".ivThumb","click",function(){var c=b(this);z.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&
(I.type="chromeful-video",I.index=c.attr("id").split("_")[1])})}function M(){if(ga){var c=b("#ivVideosTab").height();z.css("height",c);var d=z.find(".vse-lb-container");A=c-h.getDimension(d,"padding-top")-h.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(fa){z.css({"max-width":Math.floor(1.77*A)});return}var c=z.find(".vse-player-container"),d=z.find(".vse-video-action-strip"),e=z.find(".vse-lb-video-metadata"),k=Math.floor(A-h.getDimension(e,"height")-h.getDimension(d,
"height")),l=Math.floor(1.77*k);c.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}ha&&(c=z.find(".vse-vertical-scroll"),d=h.getDimension(c,"margin-top")+h.getDimension(c,"margin-bottom"),c.css("max-height",A-d))}function pa(){F();B&&B.pause();W=!1;n=!0;N=null;ma=!0;ga=!1}function F(){W=!1;B&&B.pause()}function ea(h){N=h.clickTimeStamp?h.clickTimeStamp:e.now();
c.isDefined(C)&&(C.eventTimestamp=N);W=!0;w&&(v.get(e,"#ivVideoBlock",H,J,d),z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m(),ba());M();w=!1;V()}function Q(c){w&&(z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m());W&&V();M()}function R(b){B=b.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-la);p.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-p.imageBlockRenderingStartTime);ga&&(ba(),
V())}function V(){if(B&&W&&(z.find(".vse-lb-container").animate({opacity:1},200),B.play(C),r.postCountMetric("dpcc_vse_videoBlock_video_played"),n)){var b=u.ue;b&&(b=b.count("dpcc_vse_videoingressclick"),b=(new Date).getTime()-b,r.postTimeMetric("dpcc_vse_vitff",b),n=!1)}}function K(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function U(b){Z=b.popover.$popover;ga=!0;ba()}function ba(){if(ga&&ma&&W&&B){Z.addClass(e.$(Z).find(".vse-lb-container").data("cssClass"));var b=C;na&&(b=E,
na=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:b});M();ma=!1}}function ka(b){document.getElementsByClassName("videoBlockIngress")[0].click();E=b;na=!0}var G,p,k,H,C,z,I,A,B,Z,S,l,N,ca,q,x,n=!0,w=!0,fa=!1,ha=!1,W=!1,ma=!0,ga=!1,na=!1,E,la=0,m=e.once(function(){t();h.attachImmersiveViewResizeHandler(Q);h.attachTabDeselectHandler("ivVideosTab",F);h.attachImmersiveViewResetHandler(pa)}),P=function(d,e,h){b("#ivVideoBlockSpinner").addClass("aok-hidden");
r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=k.getCurrentItem().color;d=c.getVideoHash(d,0,p);B||(B=c.createAiryInstanceForChromeful(b("#ivVideoBlock"),d,p.airyConfig,"ImmersiveView"));fa=!0;b("#ivVideoBlock").css({"max-width":1.77*A,margin:"0 auto"});W&&fa&&B.play({isAsync:!0})},O=function(c,e,h){w||v.get(c,"#ivVideoBlock",H,J,d);b("#ivVideoBlockSpinner").addClass("aok-hidden")},J=function(b,c,d){ha=!0;M()},d=function(b,c,d){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
c.pageContext.placement+"_"+c.configuration.type)};return function(b,d,m,n){G=this;p=b;k=d;G.render=function(b,a,d,f,m,n){b=k.getCurrentItem().color;a=c.getVideoHash(b,0,p);!0===n?S=p.mediaAsin:(S=p.colorToAsin[b]&&p.colorToAsin[b].asin,S=c.isDefined(S)?S:p.mediaAsin);l=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";ca=p.contentWeblab;q=p.contentWeblabTreatment;x=p.parentAsin||"";w=!0;-1===a?h.hideTabHeading("ivVideosTabHeading"):(h.unhideTabHeading("ivVideosTabHeading"),
H={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:a.marketPlaceID,locale:a.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:x,parentContentIDType:"ASIN"},video:{contentID:a.mediaObjectId,contentIDType:l,videoURL:a.url,imageURL:a.slateUrl},requestId:p.dpRequestId,weblabContext:[{name:ca,assignment:q,ignoreForG2S2Key:!0}],metadata:{ProductTitle:p.title}},C={videoUrl:H.video.videoURL,contentId:H.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(N)?
N:e.now(),imageUrl:H.video.imageURL,productAsin:H.product.contentID,index:0},c.isDefinedAndNotEmpty(B)&&(B.destroy(),B=null),la=e.now(),D.get(e,"#ivVideoBlock",H,O,P))};G.update=function(b){};h.attachTabSelectHandler("ivVideosTab",ea);e.on("vsePlayer-detailpage-imageblock",R);e.on("a:popover:afterShow:immersiveView",U);e.on("a:popover:beforeHide:immersiveView",K);e.on("detailpage-imageblock-leave-pip",ka)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
